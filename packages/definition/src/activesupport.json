{
  "RueModule": {
    "metadata": {
      "filepath": "@rue/packages/activesupport/src/modules/base.ts",
      "updatedAt": "2021/03/22 01:29:53 +09:00"
    },
    "class": [
      {
        "text": "export abstract class RueModule {\n  static readonly RUE_MODULE = RUE_MODULE;\n  static readonly RUE_IMPL_CLASS = RUE_IMPL_CLASS;\n  static readonly RUE_DESCRIPTION = RUE_DESCRIPTION;\n\n  static readonly __rue_module__ = true;\n  static readonly __rue_description__ = `\nThis is Rue Module(~ abstract class).\nRun 'RueModule.prototype' or 'Object.keys(RueModule)' and so on to see more details.\nIt has the following as internal static properties.\n\n・__rue_module__ = true (readonly)`;\n\n  constructor() {\n    // RueModule description for display\n    `\nThis is Rue Module(~ abstract class).\nRun 'RueModule.prototype' or 'Object.keys(RueModule)' and so on to see more details.\nIt has the following as internal static properties.\n\n・__rue_module__ = true (readonly)`;\n\n    throw `Could not create ${this.constructor.name} instance. Cause: ${this.constructor.name} is RueModule (~ abstract class)`;\n  }\n\n  static rueModuleIncludedFrom<T extends Function>(klass: T, opts: t.RueModuleOptions) {\n    if (this.__rue_module__) {\n      // Update Rue Ancestor Chain\n      updateRueAncestorChain(klass, this);\n\n      Object.keys(Object.getOwnPropertyDescriptors(this.prototype)).forEach((methodName) => {\n        if (opts && opts.only && opts.only.includes(methodName)) {\n          if (methodName != 'constructor') klass.prototype[methodName] = this.prototype[methodName];\n        }\n      });\n\n      // If the prototype of the Impl class is used, the methods implemented in the Impl class are also inherited.\n      const maybeImpl = Object.getPrototypeOf(this);\n      if (maybeImpl && maybeImpl.__rue_impl_class__) {\n        Object.keys(Object.getOwnPropertyDescriptors(maybeImpl.prototype)).forEach((methodName) => {\n          if (opts && opts.only && opts.only.includes(methodName)) {\n            if (methodName != 'constructor')\n              klass.prototype[methodName] = maybeImpl.prototype[methodName];\n          }\n        });\n      }\n    } else {\n      throw 'rueModuleIncludedFrom';\n    }\n  }\n\n  static rueModuleExtendedFrom<T extends Function>(klass: T, opts: t.RueModuleOptions) {\n    if (this.__rue_module__) {\n      // Update Rue Ancestor Chain\n      updateRueAncestorChain(klass, this);\n\n      Object.keys(Object.getOwnPropertyDescriptors(this)).forEach((methodName) => {\n        if (opts && opts.only && opts.only.includes(methodName)) {\n          if (methodName != 'name') klass[methodName] = this[methodName];\n        }\n      });\n\n      // If the prototype of the Impl class is used, the methods implemented in the Impl class are also inherited.\n      const maybeImpl = Object.getPrototypeOf(this);\n      if (maybeImpl && maybeImpl.__rue_impl_class__) {\n        Object.keys(Object.getOwnPropertyDescriptors(maybeImpl)).forEach((methodName) => {\n          if (opts && opts.only && opts.only.includes(methodName)) {\n            if (methodName != 'name') klass[methodName] = maybeImpl[methodName];\n          }\n        });\n      }\n    } else {\n      throw 'rueModuleExtendedFrom';\n    }\n  }\n}",
        "highlightText": "\u001b[38;2;102;217;239mexport\u001b[39m \u001b[38;2;102;217;239mabstract\u001b[39m \u001b[38;2;102;217;239mclass\u001b[39m \u001b[38;2;230;219;116mRueModule\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n  \u001b[38;2;102;217;239mstatic\u001b[39m \u001b[38;2;102;217;239mreadonly\u001b[39m \u001b[38;2;249;38;114mRUE_MODULE\u001b[39m \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;249;38;114mRUE_MODULE\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n  \u001b[38;2;102;217;239mstatic\u001b[39m \u001b[38;2;102;217;239mreadonly\u001b[39m \u001b[38;2;249;38;114mRUE_IMPL_CLASS\u001b[39m \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;249;38;114mRUE_IMPL_CLASS\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n  \u001b[38;2;102;217;239mstatic\u001b[39m \u001b[38;2;102;217;239mreadonly\u001b[39m \u001b[38;2;249;38;114mRUE_DESCRIPTION\u001b[39m \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;249;38;114mRUE_DESCRIPTION\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n\n  \u001b[38;2;102;217;239mstatic\u001b[39m \u001b[38;2;102;217;239mreadonly\u001b[39m __rue_module__ \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;174;129;255mtrue\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n  \u001b[38;2;102;217;239mstatic\u001b[39m \u001b[38;2;102;217;239mreadonly\u001b[39m __rue_description__ \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;166;226;46m`\u001b[39m\u001b[38;2;166;226;46m\u001b[39m\n\u001b[38;2;166;226;46mThis is Rue Module(~ abstract class).\u001b[39m\n\u001b[38;2;166;226;46mRun 'RueModule.prototype' or 'Object.keys(RueModule)' and so on to see more details.\u001b[39m\n\u001b[38;2;166;226;46mIt has the following as internal static properties.\u001b[39m\n\u001b[38;2;166;226;46m\u001b[39m\n\u001b[38;2;166;226;46m・__rue_module__ = true (readonly)\u001b[39m\u001b[38;2;166;226;46m`\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n\n  \u001b[38;2;102;217;239mconstructor\u001b[39m\u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n    \u001b[38;2;130;146;162m// RueModule description for display\u001b[39m\n    \u001b[38;2;166;226;46m`\u001b[39m\u001b[38;2;166;226;46m\u001b[39m\n\u001b[38;2;166;226;46mThis is Rue Module(~ abstract class).\u001b[39m\n\u001b[38;2;166;226;46mRun 'RueModule.prototype' or 'Object.keys(RueModule)' and so on to see more details.\u001b[39m\n\u001b[38;2;166;226;46mIt has the following as internal static properties.\u001b[39m\n\u001b[38;2;166;226;46m\u001b[39m\n\u001b[38;2;166;226;46m・__rue_module__ = true (readonly)\u001b[39m\u001b[38;2;166;226;46m`\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n\n    \u001b[38;2;102;217;239mthrow\u001b[39m \u001b[38;2;166;226;46m`\u001b[39m\u001b[38;2;166;226;46mCould not create \u001b[39m\u001b[38;2;248;248;242m${\u001b[39m\u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;102;217;239mconstructor\u001b[39m\u001b[38;2;248;248;242m.\u001b[39mname\u001b[38;2;248;248;242m}\u001b[39m\u001b[38;2;166;226;46m instance. Cause: \u001b[39m\u001b[38;2;248;248;242m${\u001b[39m\u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;102;217;239mconstructor\u001b[39m\u001b[38;2;248;248;242m.\u001b[39mname\u001b[38;2;248;248;242m}\u001b[39m\u001b[38;2;166;226;46m is RueModule (~ abstract class)\u001b[39m\u001b[38;2;166;226;46m`\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n  \u001b[38;2;248;248;242m}\u001b[39m\n\n  \u001b[38;2;102;217;239mstatic\u001b[39m \u001b[38;2;230;219;116mrueModuleIncludedFrom\u001b[39m\u001b[38;2;230;219;116m\u001b[38;2;248;248;242m<\u001b[39m\u001b[38;2;230;219;116m\u001b[38;2;249;38;114mT\u001b[39m\u001b[38;2;230;219;116m \u001b[38;2;102;217;239mextends\u001b[39m\u001b[38;2;230;219;116m \u001b[38;2;166;226;46mFunction\u001b[39m\u001b[38;2;230;219;116m\u001b[38;2;248;248;242m>\u001b[39m\u001b[38;2;230;219;116m\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mklass\u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;249;38;114mT\u001b[39m\u001b[38;2;248;248;242m,\u001b[39m opts\u001b[38;2;248;248;242m:\u001b[39m t\u001b[38;2;248;248;242m.\u001b[39mRueModuleOptions\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n    \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m.\u001b[39m__rue_module__\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n      \u001b[38;2;130;146;162m// Update Rue Ancestor Chain\u001b[39m\n      \u001b[38;2;230;219;116mupdateRueAncestorChain\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mklass\u001b[38;2;248;248;242m,\u001b[39m \u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n\n      Object\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mkeys\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mObject\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mgetOwnPropertyDescriptors\u001b[39m\u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m.\u001b[39mprototype\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mforEach\u001b[39m\u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mmethodName\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m=>\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n        \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39mopts \u001b[38;2;248;248;242m&&\u001b[39m opts\u001b[38;2;248;248;242m.\u001b[39monly \u001b[38;2;248;248;242m&&\u001b[39m opts\u001b[38;2;248;248;242m.\u001b[39monly\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mincludes\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mmethodName\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n          \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39mmethodName \u001b[38;2;248;248;242m!=\u001b[39m \u001b[38;2;166;226;46m'constructor'\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m klass\u001b[38;2;248;248;242m.\u001b[39mprototype\u001b[38;2;248;248;242m[\u001b[39mmethodName\u001b[38;2;248;248;242m]\u001b[39m \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m.\u001b[39mprototype\u001b[38;2;248;248;242m[\u001b[39mmethodName\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n        \u001b[38;2;248;248;242m}\u001b[39m\n      \u001b[38;2;248;248;242m}\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n\n      \u001b[38;2;130;146;162m// If the prototype of the Impl class is used, the methods implemented in the Impl class are also inherited.\u001b[39m\n      \u001b[38;2;102;217;239mconst\u001b[39m maybeImpl \u001b[38;2;248;248;242m=\u001b[39m Object\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mgetPrototypeOf\u001b[39m\u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n      \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39mmaybeImpl \u001b[38;2;248;248;242m&&\u001b[39m maybeImpl\u001b[38;2;248;248;242m.\u001b[39m__rue_impl_class__\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n        Object\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mkeys\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mObject\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mgetOwnPropertyDescriptors\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mmaybeImpl\u001b[38;2;248;248;242m.\u001b[39mprototype\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mforEach\u001b[39m\u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mmethodName\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m=>\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n          \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39mopts \u001b[38;2;248;248;242m&&\u001b[39m opts\u001b[38;2;248;248;242m.\u001b[39monly \u001b[38;2;248;248;242m&&\u001b[39m opts\u001b[38;2;248;248;242m.\u001b[39monly\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mincludes\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mmethodName\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n            \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39mmethodName \u001b[38;2;248;248;242m!=\u001b[39m \u001b[38;2;166;226;46m'constructor'\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\n              klass\u001b[38;2;248;248;242m.\u001b[39mprototype\u001b[38;2;248;248;242m[\u001b[39mmethodName\u001b[38;2;248;248;242m]\u001b[39m \u001b[38;2;248;248;242m=\u001b[39m maybeImpl\u001b[38;2;248;248;242m.\u001b[39mprototype\u001b[38;2;248;248;242m[\u001b[39mmethodName\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n          \u001b[38;2;248;248;242m}\u001b[39m\n        \u001b[38;2;248;248;242m}\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n      \u001b[38;2;248;248;242m}\u001b[39m\n    \u001b[38;2;248;248;242m}\u001b[39m \u001b[38;2;102;217;239melse\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n      \u001b[38;2;102;217;239mthrow\u001b[39m \u001b[38;2;166;226;46m'rueModuleIncludedFrom'\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n    \u001b[38;2;248;248;242m}\u001b[39m\n  \u001b[38;2;248;248;242m}\u001b[39m\n\n  \u001b[38;2;102;217;239mstatic\u001b[39m \u001b[38;2;230;219;116mrueModuleExtendedFrom\u001b[39m\u001b[38;2;230;219;116m\u001b[38;2;248;248;242m<\u001b[39m\u001b[38;2;230;219;116m\u001b[38;2;249;38;114mT\u001b[39m\u001b[38;2;230;219;116m \u001b[38;2;102;217;239mextends\u001b[39m\u001b[38;2;230;219;116m \u001b[38;2;166;226;46mFunction\u001b[39m\u001b[38;2;230;219;116m\u001b[38;2;248;248;242m>\u001b[39m\u001b[38;2;230;219;116m\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mklass\u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;249;38;114mT\u001b[39m\u001b[38;2;248;248;242m,\u001b[39m opts\u001b[38;2;248;248;242m:\u001b[39m t\u001b[38;2;248;248;242m.\u001b[39mRueModuleOptions\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n    \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m.\u001b[39m__rue_module__\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n      \u001b[38;2;130;146;162m// Update Rue Ancestor Chain\u001b[39m\n      \u001b[38;2;230;219;116mupdateRueAncestorChain\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mklass\u001b[38;2;248;248;242m,\u001b[39m \u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n\n      Object\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mkeys\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mObject\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mgetOwnPropertyDescriptors\u001b[39m\u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mforEach\u001b[39m\u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mmethodName\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m=>\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n        \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39mopts \u001b[38;2;248;248;242m&&\u001b[39m opts\u001b[38;2;248;248;242m.\u001b[39monly \u001b[38;2;248;248;242m&&\u001b[39m opts\u001b[38;2;248;248;242m.\u001b[39monly\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mincludes\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mmethodName\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n          \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39mmethodName \u001b[38;2;248;248;242m!=\u001b[39m \u001b[38;2;166;226;46m'name'\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m klass\u001b[38;2;248;248;242m[\u001b[39mmethodName\u001b[38;2;248;248;242m]\u001b[39m \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m[\u001b[39mmethodName\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n        \u001b[38;2;248;248;242m}\u001b[39m\n      \u001b[38;2;248;248;242m}\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n\n      \u001b[38;2;130;146;162m// If the prototype of the Impl class is used, the methods implemented in the Impl class are also inherited.\u001b[39m\n      \u001b[38;2;102;217;239mconst\u001b[39m maybeImpl \u001b[38;2;248;248;242m=\u001b[39m Object\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mgetPrototypeOf\u001b[39m\u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n      \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39mmaybeImpl \u001b[38;2;248;248;242m&&\u001b[39m maybeImpl\u001b[38;2;248;248;242m.\u001b[39m__rue_impl_class__\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n        Object\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mkeys\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mObject\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mgetOwnPropertyDescriptors\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mmaybeImpl\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mforEach\u001b[39m\u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mmethodName\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m=>\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n          \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39mopts \u001b[38;2;248;248;242m&&\u001b[39m opts\u001b[38;2;248;248;242m.\u001b[39monly \u001b[38;2;248;248;242m&&\u001b[39m opts\u001b[38;2;248;248;242m.\u001b[39monly\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mincludes\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mmethodName\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n            \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39mmethodName \u001b[38;2;248;248;242m!=\u001b[39m \u001b[38;2;166;226;46m'name'\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m klass\u001b[38;2;248;248;242m[\u001b[39mmethodName\u001b[38;2;248;248;242m]\u001b[39m \u001b[38;2;248;248;242m=\u001b[39m maybeImpl\u001b[38;2;248;248;242m[\u001b[39mmethodName\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n          \u001b[38;2;248;248;242m}\u001b[39m\n        \u001b[38;2;248;248;242m}\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n      \u001b[38;2;248;248;242m}\u001b[39m\n    \u001b[38;2;248;248;242m}\u001b[39m \u001b[38;2;102;217;239melse\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n      \u001b[38;2;102;217;239mthrow\u001b[39m \u001b[38;2;166;226;46m'rueModuleExtendedFrom'\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n    \u001b[38;2;248;248;242m}\u001b[39m\n  \u001b[38;2;248;248;242m}\u001b[39m\n\u001b[38;2;248;248;242m}\u001b[39m",
        "line": [
          12,
          87
        ]
      }
    ],
    "static": {
      "rueModuleIncludedFrom": {
        "text": "static rueModuleIncludedFrom<T extends Function>(klass: T, opts: t.RueModuleOptions) {\n    if (this.__rue_module__) {\n      // Update Rue Ancestor Chain\n      updateRueAncestorChain(klass, this);\n\n      Object.keys(Object.getOwnPropertyDescriptors(this.prototype)).forEach((methodName) => {\n        if (opts && opts.only && opts.only.includes(methodName)) {\n          if (methodName != 'constructor') klass.prototype[methodName] = this.prototype[methodName];\n        }\n      });\n\n      // If the prototype of the Impl class is used, the methods implemented in the Impl class are also inherited.\n      const maybeImpl = Object.getPrototypeOf(this);\n      if (maybeImpl && maybeImpl.__rue_impl_class__) {\n        Object.keys(Object.getOwnPropertyDescriptors(maybeImpl.prototype)).forEach((methodName) => {\n          if (opts && opts.only && opts.only.includes(methodName)) {\n            if (methodName != 'constructor')\n              klass.prototype[methodName] = maybeImpl.prototype[methodName];\n          }\n        });\n      }\n    } else {\n      throw 'rueModuleIncludedFrom';\n    }\n  }",
        "highlightText": "\u001b[38;2;102;217;239mstatic\u001b[39m \u001b[38;2;230;219;116mrueModuleIncludedFrom\u001b[39m\u001b[38;2;230;219;116m\u001b[38;2;248;248;242m<\u001b[39m\u001b[38;2;230;219;116m\u001b[38;2;249;38;114mT\u001b[39m\u001b[38;2;230;219;116m \u001b[38;2;102;217;239mextends\u001b[39m\u001b[38;2;230;219;116m \u001b[38;2;166;226;46mFunction\u001b[39m\u001b[38;2;230;219;116m\u001b[38;2;248;248;242m>\u001b[39m\u001b[38;2;230;219;116m\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mklass\u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;249;38;114mT\u001b[39m\u001b[38;2;248;248;242m,\u001b[39m opts\u001b[38;2;248;248;242m:\u001b[39m t\u001b[38;2;248;248;242m.\u001b[39mRueModuleOptions\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n    \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m.\u001b[39m__rue_module__\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n      \u001b[38;2;130;146;162m// Update Rue Ancestor Chain\u001b[39m\n      \u001b[38;2;230;219;116mupdateRueAncestorChain\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mklass\u001b[38;2;248;248;242m,\u001b[39m \u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n\n      Object\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mkeys\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mObject\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mgetOwnPropertyDescriptors\u001b[39m\u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m.\u001b[39mprototype\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mforEach\u001b[39m\u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mmethodName\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m=>\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n        \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39mopts \u001b[38;2;248;248;242m&&\u001b[39m opts\u001b[38;2;248;248;242m.\u001b[39monly \u001b[38;2;248;248;242m&&\u001b[39m opts\u001b[38;2;248;248;242m.\u001b[39monly\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mincludes\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mmethodName\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n          \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39mmethodName \u001b[38;2;248;248;242m!=\u001b[39m \u001b[38;2;166;226;46m'constructor'\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m klass\u001b[38;2;248;248;242m.\u001b[39mprototype\u001b[38;2;248;248;242m[\u001b[39mmethodName\u001b[38;2;248;248;242m]\u001b[39m \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m.\u001b[39mprototype\u001b[38;2;248;248;242m[\u001b[39mmethodName\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n        \u001b[38;2;248;248;242m}\u001b[39m\n      \u001b[38;2;248;248;242m}\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n\n      \u001b[38;2;130;146;162m// If the prototype of the Impl class is used, the methods implemented in the Impl class are also inherited.\u001b[39m\n      \u001b[38;2;102;217;239mconst\u001b[39m maybeImpl \u001b[38;2;248;248;242m=\u001b[39m Object\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mgetPrototypeOf\u001b[39m\u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n      \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39mmaybeImpl \u001b[38;2;248;248;242m&&\u001b[39m maybeImpl\u001b[38;2;248;248;242m.\u001b[39m__rue_impl_class__\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n        Object\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mkeys\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mObject\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mgetOwnPropertyDescriptors\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mmaybeImpl\u001b[38;2;248;248;242m.\u001b[39mprototype\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mforEach\u001b[39m\u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mmethodName\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m=>\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n          \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39mopts \u001b[38;2;248;248;242m&&\u001b[39m opts\u001b[38;2;248;248;242m.\u001b[39monly \u001b[38;2;248;248;242m&&\u001b[39m opts\u001b[38;2;248;248;242m.\u001b[39monly\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mincludes\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mmethodName\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n            \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39mmethodName \u001b[38;2;248;248;242m!=\u001b[39m \u001b[38;2;166;226;46m'constructor'\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\n              klass\u001b[38;2;248;248;242m.\u001b[39mprototype\u001b[38;2;248;248;242m[\u001b[39mmethodName\u001b[38;2;248;248;242m]\u001b[39m \u001b[38;2;248;248;242m=\u001b[39m maybeImpl\u001b[38;2;248;248;242m.\u001b[39mprototype\u001b[38;2;248;248;242m[\u001b[39mmethodName\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n          \u001b[38;2;248;248;242m}\u001b[39m\n        \u001b[38;2;248;248;242m}\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n      \u001b[38;2;248;248;242m}\u001b[39m\n    \u001b[38;2;248;248;242m}\u001b[39m \u001b[38;2;102;217;239melse\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n      \u001b[38;2;102;217;239mthrow\u001b[39m \u001b[38;2;166;226;46m'rueModuleIncludedFrom'\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n    \u001b[38;2;248;248;242m}\u001b[39m\n  \u001b[38;2;248;248;242m}\u001b[39m",
        "isAsync": false,
        "visibility": "public",
        "line": [
          37,
          61
        ]
      },
      "rueModuleExtendedFrom": {
        "text": "static rueModuleExtendedFrom<T extends Function>(klass: T, opts: t.RueModuleOptions) {\n    if (this.__rue_module__) {\n      // Update Rue Ancestor Chain\n      updateRueAncestorChain(klass, this);\n\n      Object.keys(Object.getOwnPropertyDescriptors(this)).forEach((methodName) => {\n        if (opts && opts.only && opts.only.includes(methodName)) {\n          if (methodName != 'name') klass[methodName] = this[methodName];\n        }\n      });\n\n      // If the prototype of the Impl class is used, the methods implemented in the Impl class are also inherited.\n      const maybeImpl = Object.getPrototypeOf(this);\n      if (maybeImpl && maybeImpl.__rue_impl_class__) {\n        Object.keys(Object.getOwnPropertyDescriptors(maybeImpl)).forEach((methodName) => {\n          if (opts && opts.only && opts.only.includes(methodName)) {\n            if (methodName != 'name') klass[methodName] = maybeImpl[methodName];\n          }\n        });\n      }\n    } else {\n      throw 'rueModuleExtendedFrom';\n    }\n  }",
        "highlightText": "\u001b[38;2;102;217;239mstatic\u001b[39m \u001b[38;2;230;219;116mrueModuleExtendedFrom\u001b[39m\u001b[38;2;230;219;116m\u001b[38;2;248;248;242m<\u001b[39m\u001b[38;2;230;219;116m\u001b[38;2;249;38;114mT\u001b[39m\u001b[38;2;230;219;116m \u001b[38;2;102;217;239mextends\u001b[39m\u001b[38;2;230;219;116m \u001b[38;2;166;226;46mFunction\u001b[39m\u001b[38;2;230;219;116m\u001b[38;2;248;248;242m>\u001b[39m\u001b[38;2;230;219;116m\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mklass\u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;249;38;114mT\u001b[39m\u001b[38;2;248;248;242m,\u001b[39m opts\u001b[38;2;248;248;242m:\u001b[39m t\u001b[38;2;248;248;242m.\u001b[39mRueModuleOptions\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n    \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m.\u001b[39m__rue_module__\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n      \u001b[38;2;130;146;162m// Update Rue Ancestor Chain\u001b[39m\n      \u001b[38;2;230;219;116mupdateRueAncestorChain\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mklass\u001b[38;2;248;248;242m,\u001b[39m \u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n\n      Object\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mkeys\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mObject\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mgetOwnPropertyDescriptors\u001b[39m\u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mforEach\u001b[39m\u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mmethodName\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m=>\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n        \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39mopts \u001b[38;2;248;248;242m&&\u001b[39m opts\u001b[38;2;248;248;242m.\u001b[39monly \u001b[38;2;248;248;242m&&\u001b[39m opts\u001b[38;2;248;248;242m.\u001b[39monly\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mincludes\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mmethodName\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n          \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39mmethodName \u001b[38;2;248;248;242m!=\u001b[39m \u001b[38;2;166;226;46m'name'\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m klass\u001b[38;2;248;248;242m[\u001b[39mmethodName\u001b[38;2;248;248;242m]\u001b[39m \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m[\u001b[39mmethodName\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n        \u001b[38;2;248;248;242m}\u001b[39m\n      \u001b[38;2;248;248;242m}\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n\n      \u001b[38;2;130;146;162m// If the prototype of the Impl class is used, the methods implemented in the Impl class are also inherited.\u001b[39m\n      \u001b[38;2;102;217;239mconst\u001b[39m maybeImpl \u001b[38;2;248;248;242m=\u001b[39m Object\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mgetPrototypeOf\u001b[39m\u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n      \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39mmaybeImpl \u001b[38;2;248;248;242m&&\u001b[39m maybeImpl\u001b[38;2;248;248;242m.\u001b[39m__rue_impl_class__\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n        Object\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mkeys\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mObject\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mgetOwnPropertyDescriptors\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mmaybeImpl\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mforEach\u001b[39m\u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mmethodName\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m=>\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n          \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39mopts \u001b[38;2;248;248;242m&&\u001b[39m opts\u001b[38;2;248;248;242m.\u001b[39monly \u001b[38;2;248;248;242m&&\u001b[39m opts\u001b[38;2;248;248;242m.\u001b[39monly\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mincludes\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mmethodName\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n            \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39mmethodName \u001b[38;2;248;248;242m!=\u001b[39m \u001b[38;2;166;226;46m'name'\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m klass\u001b[38;2;248;248;242m[\u001b[39mmethodName\u001b[38;2;248;248;242m]\u001b[39m \u001b[38;2;248;248;242m=\u001b[39m maybeImpl\u001b[38;2;248;248;242m[\u001b[39mmethodName\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n          \u001b[38;2;248;248;242m}\u001b[39m\n        \u001b[38;2;248;248;242m}\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n      \u001b[38;2;248;248;242m}\u001b[39m\n    \u001b[38;2;248;248;242m}\u001b[39m \u001b[38;2;102;217;239melse\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n      \u001b[38;2;102;217;239mthrow\u001b[39m \u001b[38;2;166;226;46m'rueModuleExtendedFrom'\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n    \u001b[38;2;248;248;242m}\u001b[39m\n  \u001b[38;2;248;248;242m}\u001b[39m",
        "isAsync": false,
        "visibility": "public",
        "line": [
          63,
          86
        ]
      }
    },
    "$constructor": {
      "text": "constructor() {\n    // RueModule description for display\n    `\nThis is Rue Module(~ abstract class).\nRun 'RueModule.prototype' or 'Object.keys(RueModule)' and so on to see more details.\nIt has the following as internal static properties.\n\n・__rue_module__ = true (readonly)`;\n\n    throw `Could not create ${this.constructor.name} instance. Cause: ${this.constructor.name} is RueModule (~ abstract class)`;\n  }",
      "highlightText": "\u001b[38;2;102;217;239mconstructor\u001b[39m\u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n    \u001b[38;2;130;146;162m// RueModule description for display\u001b[39m\n    \u001b[38;2;166;226;46m`\u001b[39m\u001b[38;2;166;226;46m\u001b[39m\n\u001b[38;2;166;226;46mThis is Rue Module(~ abstract class).\u001b[39m\n\u001b[38;2;166;226;46mRun 'RueModule.prototype' or 'Object.keys(RueModule)' and so on to see more details.\u001b[39m\n\u001b[38;2;166;226;46mIt has the following as internal static properties.\u001b[39m\n\u001b[38;2;166;226;46m\u001b[39m\n\u001b[38;2;166;226;46m・__rue_module__ = true (readonly)\u001b[39m\u001b[38;2;166;226;46m`\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n\n    \u001b[38;2;102;217;239mthrow\u001b[39m \u001b[38;2;166;226;46m`\u001b[39m\u001b[38;2;166;226;46mCould not create \u001b[39m\u001b[38;2;248;248;242m${\u001b[39m\u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;102;217;239mconstructor\u001b[39m\u001b[38;2;248;248;242m.\u001b[39mname\u001b[38;2;248;248;242m}\u001b[39m\u001b[38;2;166;226;46m instance. Cause: \u001b[39m\u001b[38;2;248;248;242m${\u001b[39m\u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;102;217;239mconstructor\u001b[39m\u001b[38;2;248;248;242m.\u001b[39mname\u001b[38;2;248;248;242m}\u001b[39m\u001b[38;2;166;226;46m is RueModule (~ abstract class)\u001b[39m\u001b[38;2;166;226;46m`\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n  \u001b[38;2;248;248;242m}\u001b[39m",
      "line": [
        25,
        35
      ]
    }
  },
  "RueModuleAncestorController": {
    "metadata": {
      "filepath": "@rue/packages/activesupport/src/modules/base.ts",
      "updatedAt": "2021/03/22 01:29:53 +09:00"
    },
    "class": [
      {
        "text": "export class RueModuleAncestorController {\n  public klass: RueModule;\n  public data: t.RueModuleAncestors;\n\n  constructor(klass: RueModule) {\n    this.klass = klass;\n    this.data = Registry.read<t.RueModuleAncestors>(this.klass['name'], RUE_ANCESTORS, 'array');\n  }\n\n  create(val: t.RueModuleAncestors) {\n    Registry.create(this.klass['name'], RUE_ANCESTORS, val);\n    this.data = val;\n  }\n\n  update(val: t.RueModuleAncestors) {\n    Registry.update(this.klass['name'], RUE_ANCESTORS, val);\n    this.data = Registry.read<t.RueModuleAncestors>(this.klass['name'], RUE_ANCESTORS, 'array');\n  }\n\n  ancestors(): t.RueModuleAncestors {\n    const _getAncestors = (\n      klass: RueModule,\n      result: t.RueModuleAncestors[]\n    ): t.RueModuleAncestors[] => {\n      const controller = new RueModuleAncestorController(klass);\n      if (!result.includes(klass as any)) result.push(klass as any);\n\n      controller.data.forEach((childKlass) => {\n        if (childKlass != Object) {\n          const childAncestors = _getAncestors(childKlass, result);\n          childAncestors.forEach((ancestor) => {\n            if (!result.includes(ancestor)) result.push(ancestor);\n          });\n        }\n      });\n\n      return result;\n    };\n\n    let result = [];\n    return _getAncestors(this.klass, result);\n  }\n}",
        "highlightText": "\u001b[38;2;102;217;239mexport\u001b[39m \u001b[38;2;102;217;239mclass\u001b[39m \u001b[38;2;230;219;116mRueModuleAncestorController\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n  \u001b[38;2;102;217;239mpublic\u001b[39m klass\u001b[38;2;248;248;242m:\u001b[39m RueModule\u001b[38;2;248;248;242m;\u001b[39m\n  \u001b[38;2;102;217;239mpublic\u001b[39m data\u001b[38;2;248;248;242m:\u001b[39m t\u001b[38;2;248;248;242m.\u001b[39mRueModuleAncestors\u001b[38;2;248;248;242m;\u001b[39m\n\n  \u001b[38;2;102;217;239mconstructor\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mklass\u001b[38;2;248;248;242m:\u001b[39m RueModule\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n    \u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m.\u001b[39mklass \u001b[38;2;248;248;242m=\u001b[39m klass\u001b[38;2;248;248;242m;\u001b[39m\n    \u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m.\u001b[39mdata \u001b[38;2;248;248;242m=\u001b[39m Registry\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mread\u001b[39m\u001b[38;2;230;219;116m\u001b[38;2;248;248;242m<\u001b[39m\u001b[38;2;230;219;116mt\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mRueModuleAncestors\u001b[38;2;248;248;242m>\u001b[39m\u001b[38;2;230;219;116m\u001b[39m\u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m.\u001b[39mklass\u001b[38;2;248;248;242m[\u001b[39m\u001b[38;2;166;226;46m'name'\u001b[39m\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m,\u001b[39m \u001b[38;2;249;38;114mRUE_ANCESTORS\u001b[39m\u001b[38;2;248;248;242m,\u001b[39m \u001b[38;2;166;226;46m'array'\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n  \u001b[38;2;248;248;242m}\u001b[39m\n\n  \u001b[38;2;230;219;116mcreate\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mval\u001b[38;2;248;248;242m:\u001b[39m t\u001b[38;2;248;248;242m.\u001b[39mRueModuleAncestors\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n    Registry\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mcreate\u001b[39m\u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m.\u001b[39mklass\u001b[38;2;248;248;242m[\u001b[39m\u001b[38;2;166;226;46m'name'\u001b[39m\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m,\u001b[39m \u001b[38;2;249;38;114mRUE_ANCESTORS\u001b[39m\u001b[38;2;248;248;242m,\u001b[39m val\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n    \u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m.\u001b[39mdata \u001b[38;2;248;248;242m=\u001b[39m val\u001b[38;2;248;248;242m;\u001b[39m\n  \u001b[38;2;248;248;242m}\u001b[39m\n\n  \u001b[38;2;230;219;116mupdate\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mval\u001b[38;2;248;248;242m:\u001b[39m t\u001b[38;2;248;248;242m.\u001b[39mRueModuleAncestors\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n    Registry\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mupdate\u001b[39m\u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m.\u001b[39mklass\u001b[38;2;248;248;242m[\u001b[39m\u001b[38;2;166;226;46m'name'\u001b[39m\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m,\u001b[39m \u001b[38;2;249;38;114mRUE_ANCESTORS\u001b[39m\u001b[38;2;248;248;242m,\u001b[39m val\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n    \u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m.\u001b[39mdata \u001b[38;2;248;248;242m=\u001b[39m Registry\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mread\u001b[39m\u001b[38;2;230;219;116m\u001b[38;2;248;248;242m<\u001b[39m\u001b[38;2;230;219;116mt\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mRueModuleAncestors\u001b[38;2;248;248;242m>\u001b[39m\u001b[38;2;230;219;116m\u001b[39m\u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m.\u001b[39mklass\u001b[38;2;248;248;242m[\u001b[39m\u001b[38;2;166;226;46m'name'\u001b[39m\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m,\u001b[39m \u001b[38;2;249;38;114mRUE_ANCESTORS\u001b[39m\u001b[38;2;248;248;242m,\u001b[39m \u001b[38;2;166;226;46m'array'\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n  \u001b[38;2;248;248;242m}\u001b[39m\n\n  \u001b[38;2;230;219;116mancestors\u001b[39m\u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m:\u001b[39m t\u001b[38;2;248;248;242m.\u001b[39mRueModuleAncestors \u001b[38;2;248;248;242m{\u001b[39m\n    \u001b[38;2;102;217;239mconst\u001b[39m _getAncestors \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;248;248;242m(\u001b[39m\n      klass\u001b[38;2;248;248;242m:\u001b[39m RueModule\u001b[38;2;248;248;242m,\u001b[39m\n      result\u001b[38;2;248;248;242m:\u001b[39m t\u001b[38;2;248;248;242m.\u001b[39mRueModuleAncestors\u001b[38;2;248;248;242m[\u001b[39m\u001b[38;2;248;248;242m]\u001b[39m\n    \u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m:\u001b[39m t\u001b[38;2;248;248;242m.\u001b[39mRueModuleAncestors\u001b[38;2;248;248;242m[\u001b[39m\u001b[38;2;248;248;242m]\u001b[39m \u001b[38;2;248;248;242m=>\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n      \u001b[38;2;102;217;239mconst\u001b[39m controller \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;102;217;239mnew\u001b[39m \u001b[38;2;230;219;116mRueModuleAncestorController\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mklass\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n      \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;248;248;242m!\u001b[39mresult\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mincludes\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mklass \u001b[38;2;102;217;239mas\u001b[39m \u001b[38;2;166;226;46many\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m result\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mpush\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mklass \u001b[38;2;102;217;239mas\u001b[39m \u001b[38;2;166;226;46many\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n\n      controller\u001b[38;2;248;248;242m.\u001b[39mdata\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mforEach\u001b[39m\u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mchildKlass\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m=>\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n        \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39mchildKlass \u001b[38;2;248;248;242m!=\u001b[39m Object\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n          \u001b[38;2;102;217;239mconst\u001b[39m childAncestors \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;230;219;116m_getAncestors\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mchildKlass\u001b[38;2;248;248;242m,\u001b[39m result\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n          childAncestors\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mforEach\u001b[39m\u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mancestor\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m=>\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n            \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;248;248;242m!\u001b[39mresult\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mincludes\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mancestor\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m result\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mpush\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mancestor\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n          \u001b[38;2;248;248;242m}\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n        \u001b[38;2;248;248;242m}\u001b[39m\n      \u001b[38;2;248;248;242m}\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n\n      \u001b[38;2;102;217;239mreturn\u001b[39m result\u001b[38;2;248;248;242m;\u001b[39m\n    \u001b[38;2;248;248;242m}\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n\n    \u001b[38;2;102;217;239mlet\u001b[39m result \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;248;248;242m[\u001b[39m\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n    \u001b[38;2;102;217;239mreturn\u001b[39m \u001b[38;2;230;219;116m_getAncestors\u001b[39m\u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m.\u001b[39mklass\u001b[38;2;248;248;242m,\u001b[39m result\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n  \u001b[38;2;248;248;242m}\u001b[39m\n\u001b[38;2;248;248;242m}\u001b[39m",
        "line": [
          89,
          131
        ]
      }
    ],
    "instance": {
      "create": {
        "text": "create(val: t.RueModuleAncestors) {\n    Registry.create(this.klass['name'], RUE_ANCESTORS, val);\n    this.data = val;\n  }",
        "highlightText": "\u001b[38;2;230;219;116mcreate\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mval\u001b[38;2;248;248;242m:\u001b[39m t\u001b[38;2;248;248;242m.\u001b[39mRueModuleAncestors\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n    Registry\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mcreate\u001b[39m\u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m.\u001b[39mklass\u001b[38;2;248;248;242m[\u001b[39m\u001b[38;2;166;226;46m'name'\u001b[39m\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m,\u001b[39m \u001b[38;2;249;38;114mRUE_ANCESTORS\u001b[39m\u001b[38;2;248;248;242m,\u001b[39m val\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n    \u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m.\u001b[39mdata \u001b[38;2;248;248;242m=\u001b[39m val\u001b[38;2;248;248;242m;\u001b[39m\n  \u001b[38;2;248;248;242m}\u001b[39m",
        "isAsync": false,
        "visibility": "public",
        "line": [
          98,
          101
        ]
      },
      "update": {
        "text": "update(val: t.RueModuleAncestors) {\n    Registry.update(this.klass['name'], RUE_ANCESTORS, val);\n    this.data = Registry.read<t.RueModuleAncestors>(this.klass['name'], RUE_ANCESTORS, 'array');\n  }",
        "highlightText": "\u001b[38;2;230;219;116mupdate\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mval\u001b[38;2;248;248;242m:\u001b[39m t\u001b[38;2;248;248;242m.\u001b[39mRueModuleAncestors\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n    Registry\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mupdate\u001b[39m\u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m.\u001b[39mklass\u001b[38;2;248;248;242m[\u001b[39m\u001b[38;2;166;226;46m'name'\u001b[39m\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m,\u001b[39m \u001b[38;2;249;38;114mRUE_ANCESTORS\u001b[39m\u001b[38;2;248;248;242m,\u001b[39m val\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n    \u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m.\u001b[39mdata \u001b[38;2;248;248;242m=\u001b[39m Registry\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mread\u001b[39m\u001b[38;2;230;219;116m\u001b[38;2;248;248;242m<\u001b[39m\u001b[38;2;230;219;116mt\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mRueModuleAncestors\u001b[38;2;248;248;242m>\u001b[39m\u001b[38;2;230;219;116m\u001b[39m\u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m.\u001b[39mklass\u001b[38;2;248;248;242m[\u001b[39m\u001b[38;2;166;226;46m'name'\u001b[39m\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m,\u001b[39m \u001b[38;2;249;38;114mRUE_ANCESTORS\u001b[39m\u001b[38;2;248;248;242m,\u001b[39m \u001b[38;2;166;226;46m'array'\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n  \u001b[38;2;248;248;242m}\u001b[39m",
        "isAsync": false,
        "visibility": "public",
        "line": [
          103,
          106
        ]
      },
      "ancestors": {
        "text": "ancestors(): t.RueModuleAncestors {\n    const _getAncestors = (\n      klass: RueModule,\n      result: t.RueModuleAncestors[]\n    ): t.RueModuleAncestors[] => {\n      const controller = new RueModuleAncestorController(klass);\n      if (!result.includes(klass as any)) result.push(klass as any);\n\n      controller.data.forEach((childKlass) => {\n        if (childKlass != Object) {\n          const childAncestors = _getAncestors(childKlass, result);\n          childAncestors.forEach((ancestor) => {\n            if (!result.includes(ancestor)) result.push(ancestor);\n          });\n        }\n      });\n\n      return result;\n    };\n\n    let result = [];\n    return _getAncestors(this.klass, result);\n  }",
        "highlightText": "\u001b[38;2;230;219;116mancestors\u001b[39m\u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m:\u001b[39m t\u001b[38;2;248;248;242m.\u001b[39mRueModuleAncestors \u001b[38;2;248;248;242m{\u001b[39m\n    \u001b[38;2;102;217;239mconst\u001b[39m _getAncestors \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;248;248;242m(\u001b[39m\n      klass\u001b[38;2;248;248;242m:\u001b[39m RueModule\u001b[38;2;248;248;242m,\u001b[39m\n      result\u001b[38;2;248;248;242m:\u001b[39m t\u001b[38;2;248;248;242m.\u001b[39mRueModuleAncestors\u001b[38;2;248;248;242m[\u001b[39m\u001b[38;2;248;248;242m]\u001b[39m\n    \u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m:\u001b[39m t\u001b[38;2;248;248;242m.\u001b[39mRueModuleAncestors\u001b[38;2;248;248;242m[\u001b[39m\u001b[38;2;248;248;242m]\u001b[39m \u001b[38;2;248;248;242m=>\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n      \u001b[38;2;102;217;239mconst\u001b[39m controller \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;102;217;239mnew\u001b[39m \u001b[38;2;230;219;116mRueModuleAncestorController\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mklass\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n      \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;248;248;242m!\u001b[39mresult\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mincludes\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mklass \u001b[38;2;102;217;239mas\u001b[39m \u001b[38;2;166;226;46many\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m result\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mpush\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mklass \u001b[38;2;102;217;239mas\u001b[39m \u001b[38;2;166;226;46many\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n\n      controller\u001b[38;2;248;248;242m.\u001b[39mdata\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mforEach\u001b[39m\u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mchildKlass\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m=>\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n        \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39mchildKlass \u001b[38;2;248;248;242m!=\u001b[39m Object\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n          \u001b[38;2;102;217;239mconst\u001b[39m childAncestors \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;230;219;116m_getAncestors\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mchildKlass\u001b[38;2;248;248;242m,\u001b[39m result\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n          childAncestors\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mforEach\u001b[39m\u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mancestor\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m=>\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n            \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;248;248;242m!\u001b[39mresult\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mincludes\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mancestor\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m result\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mpush\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mancestor\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n          \u001b[38;2;248;248;242m}\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n        \u001b[38;2;248;248;242m}\u001b[39m\n      \u001b[38;2;248;248;242m}\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n\n      \u001b[38;2;102;217;239mreturn\u001b[39m result\u001b[38;2;248;248;242m;\u001b[39m\n    \u001b[38;2;248;248;242m}\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n\n    \u001b[38;2;102;217;239mlet\u001b[39m result \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;248;248;242m[\u001b[39m\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n    \u001b[38;2;102;217;239mreturn\u001b[39m \u001b[38;2;230;219;116m_getAncestors\u001b[39m\u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m.\u001b[39mklass\u001b[38;2;248;248;242m,\u001b[39m result\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n  \u001b[38;2;248;248;242m}\u001b[39m",
        "isAsync": false,
        "visibility": "public",
        "line": [
          108,
          130
        ]
      }
    },
    "$constructor": {
      "text": "constructor(klass: RueModule) {\n    this.klass = klass;\n    this.data = Registry.read<t.RueModuleAncestors>(this.klass['name'], RUE_ANCESTORS, 'array');\n  }",
      "highlightText": "\u001b[38;2;102;217;239mconstructor\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mklass\u001b[38;2;248;248;242m:\u001b[39m RueModule\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n    \u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m.\u001b[39mklass \u001b[38;2;248;248;242m=\u001b[39m klass\u001b[38;2;248;248;242m;\u001b[39m\n    \u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m.\u001b[39mdata \u001b[38;2;248;248;242m=\u001b[39m Registry\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mread\u001b[39m\u001b[38;2;230;219;116m\u001b[38;2;248;248;242m<\u001b[39m\u001b[38;2;230;219;116mt\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mRueModuleAncestors\u001b[38;2;248;248;242m>\u001b[39m\u001b[38;2;230;219;116m\u001b[39m\u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m.\u001b[39mklass\u001b[38;2;248;248;242m[\u001b[39m\u001b[38;2;166;226;46m'name'\u001b[39m\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m,\u001b[39m \u001b[38;2;249;38;114mRUE_ANCESTORS\u001b[39m\u001b[38;2;248;248;242m,\u001b[39m \u001b[38;2;166;226;46m'array'\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n  \u001b[38;2;248;248;242m}\u001b[39m",
      "line": [
        93,
        96
      ]
    }
  },
  "ActiveSupport$Registry$Base": {
    "metadata": {
      "filepath": "@rue/packages/activesupport/src/registries/base.ts",
      "updatedAt": "2021/03/22 01:29:53 +09:00"
    },
    "class": [
      {
        "text": "export class ActiveSupport$Registry$Base<T> {\n  public registryName: string;\n  public data: t.RegistryData<T>;\n\n  constructor(registryName: string) {\n    this.registryName = registryName;\n    this.data = {} as t.RegistryData<T>;\n  }\n\n  create(klassName: string, key: string, val: t.RegistryValue) {\n    if (Array.isArray(val)) {\n      this.ensure(klassName, key, 'array');\n      this.data[klassName][key].push(...val);\n    } else if (typeof val === 'object' && val != null) {\n      this.ensure(klassName, key, 'object');\n      Object.keys(val).forEach((dataKey) => {\n        const dataValue = val[dataKey];\n        this.data[klassName][key][dataKey] = dataValue;\n      });\n    } else {\n      this.ensure(klassName, key, 'value');\n      this.data[klassName][key] = val;\n    }\n  }\n\n  update(klassName: string, key: string, val: t.RegistryValue) {\n    if (Array.isArray(val)) {\n      this.ensure(klassName, key, 'array');\n      const beforeRegistryData = this.data[klassName][key];\n      this.data[klassName][key].splice(0, beforeRegistryData.length, ...val);\n    } else if (typeof val === 'object' && val != null) {\n      this.ensure(klassName, key, 'object');\n      Object.keys(val).forEach((dataKey) => {\n        const dataValue = val[dataKey];\n        this.data[klassName][key][dataKey] = dataValue;\n      });\n    } else {\n      this.ensure(klassName, key, 'value');\n      this.data[klassName][key] = val;\n    }\n  }\n\n  read<U>(klassName: string, key: string, ensureType?: t.RegistryType): U {\n    if (ensureType) this.ensure(klassName, key, ensureType);\n    if (this.data[klassName] == undefined) return undefined;\n    return this.data[klassName][key];\n  }\n\n  destroy(klassName: string) {\n    this.data[klassName] = {} as T;\n  }\n\n  private ensure(klassName, key: string, type: t.RegistryType) {\n    if (this.data[klassName] == undefined) {\n      this.data[klassName] = {} as T;\n    }\n\n    if (this.data[klassName][key] == undefined) {\n      if (type == 'array') {\n        this.data[klassName][key] = [];\n      } else if (type == 'object') {\n        this.data[klassName][key] = {};\n      } else if (type == 'value') {\n        this.data[klassName][key] = undefined;\n      }\n    }\n  }\n}",
        "highlightText": "\u001b[38;2;102;217;239mexport\u001b[39m \u001b[38;2;102;217;239mclass\u001b[39m \u001b[38;2;230;219;116mActiveSupport$Registry$Base\u001b[38;2;248;248;242m<\u001b[39m\u001b[38;2;230;219;116m\u001b[38;2;249;38;114mT\u001b[39m\u001b[38;2;230;219;116m\u001b[38;2;248;248;242m>\u001b[39m\u001b[38;2;230;219;116m\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n  \u001b[38;2;102;217;239mpublic\u001b[39m registryName\u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;166;226;46mstring\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n  \u001b[38;2;102;217;239mpublic\u001b[39m data\u001b[38;2;248;248;242m:\u001b[39m t\u001b[38;2;248;248;242m.\u001b[39mRegistryData\u001b[38;2;248;248;242m<\u001b[39m\u001b[38;2;249;38;114mT\u001b[39m\u001b[38;2;248;248;242m>\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n\n  \u001b[38;2;102;217;239mconstructor\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mregistryName\u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;166;226;46mstring\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n    \u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m.\u001b[39mregistryName \u001b[38;2;248;248;242m=\u001b[39m registryName\u001b[38;2;248;248;242m;\u001b[39m\n    \u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m.\u001b[39mdata \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\u001b[38;2;248;248;242m}\u001b[39m \u001b[38;2;102;217;239mas\u001b[39m t\u001b[38;2;248;248;242m.\u001b[39mRegistryData\u001b[38;2;248;248;242m<\u001b[39m\u001b[38;2;249;38;114mT\u001b[39m\u001b[38;2;248;248;242m>\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n  \u001b[38;2;248;248;242m}\u001b[39m\n\n  \u001b[38;2;230;219;116mcreate\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mklassName\u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;166;226;46mstring\u001b[39m\u001b[38;2;248;248;242m,\u001b[39m key\u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;166;226;46mstring\u001b[39m\u001b[38;2;248;248;242m,\u001b[39m val\u001b[38;2;248;248;242m:\u001b[39m t\u001b[38;2;248;248;242m.\u001b[39mRegistryValue\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n    \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;166;226;46mArray\u001b[39m\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116misArray\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mval\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n      \u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mensure\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mklassName\u001b[38;2;248;248;242m,\u001b[39m key\u001b[38;2;248;248;242m,\u001b[39m \u001b[38;2;166;226;46m'array'\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n      \u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m.\u001b[39mdata\u001b[38;2;248;248;242m[\u001b[39mklassName\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m[\u001b[39mkey\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mpush\u001b[39m\u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;248;248;242m...\u001b[39mval\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n    \u001b[38;2;248;248;242m}\u001b[39m \u001b[38;2;102;217;239melse\u001b[39m \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;102;217;239mtypeof\u001b[39m val \u001b[38;2;248;248;242m===\u001b[39m \u001b[38;2;166;226;46m'object'\u001b[39m \u001b[38;2;248;248;242m&&\u001b[39m val \u001b[38;2;248;248;242m!=\u001b[39m \u001b[38;2;102;217;239mnull\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n      \u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mensure\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mklassName\u001b[38;2;248;248;242m,\u001b[39m key\u001b[38;2;248;248;242m,\u001b[39m \u001b[38;2;166;226;46m'object'\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n      Object\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mkeys\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mval\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mforEach\u001b[39m\u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mdataKey\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m=>\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n        \u001b[38;2;102;217;239mconst\u001b[39m dataValue \u001b[38;2;248;248;242m=\u001b[39m val\u001b[38;2;248;248;242m[\u001b[39mdataKey\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n        \u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m.\u001b[39mdata\u001b[38;2;248;248;242m[\u001b[39mklassName\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m[\u001b[39mkey\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m[\u001b[39mdataKey\u001b[38;2;248;248;242m]\u001b[39m \u001b[38;2;248;248;242m=\u001b[39m dataValue\u001b[38;2;248;248;242m;\u001b[39m\n      \u001b[38;2;248;248;242m}\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n    \u001b[38;2;248;248;242m}\u001b[39m \u001b[38;2;102;217;239melse\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n      \u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mensure\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mklassName\u001b[38;2;248;248;242m,\u001b[39m key\u001b[38;2;248;248;242m,\u001b[39m \u001b[38;2;166;226;46m'value'\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n      \u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m.\u001b[39mdata\u001b[38;2;248;248;242m[\u001b[39mklassName\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m[\u001b[39mkey\u001b[38;2;248;248;242m]\u001b[39m \u001b[38;2;248;248;242m=\u001b[39m val\u001b[38;2;248;248;242m;\u001b[39m\n    \u001b[38;2;248;248;242m}\u001b[39m\n  \u001b[38;2;248;248;242m}\u001b[39m\n\n  \u001b[38;2;230;219;116mupdate\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mklassName\u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;166;226;46mstring\u001b[39m\u001b[38;2;248;248;242m,\u001b[39m key\u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;166;226;46mstring\u001b[39m\u001b[38;2;248;248;242m,\u001b[39m val\u001b[38;2;248;248;242m:\u001b[39m t\u001b[38;2;248;248;242m.\u001b[39mRegistryValue\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n    \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;166;226;46mArray\u001b[39m\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116misArray\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mval\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n      \u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mensure\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mklassName\u001b[38;2;248;248;242m,\u001b[39m key\u001b[38;2;248;248;242m,\u001b[39m \u001b[38;2;166;226;46m'array'\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n      \u001b[38;2;102;217;239mconst\u001b[39m beforeRegistryData \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m.\u001b[39mdata\u001b[38;2;248;248;242m[\u001b[39mklassName\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m[\u001b[39mkey\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n      \u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m.\u001b[39mdata\u001b[38;2;248;248;242m[\u001b[39mklassName\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m[\u001b[39mkey\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116msplice\u001b[39m\u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;174;129;255m0\u001b[39m\u001b[38;2;248;248;242m,\u001b[39m beforeRegistryData\u001b[38;2;248;248;242m.\u001b[39mlength\u001b[38;2;248;248;242m,\u001b[39m \u001b[38;2;248;248;242m...\u001b[39mval\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n    \u001b[38;2;248;248;242m}\u001b[39m \u001b[38;2;102;217;239melse\u001b[39m \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;102;217;239mtypeof\u001b[39m val \u001b[38;2;248;248;242m===\u001b[39m \u001b[38;2;166;226;46m'object'\u001b[39m \u001b[38;2;248;248;242m&&\u001b[39m val \u001b[38;2;248;248;242m!=\u001b[39m \u001b[38;2;102;217;239mnull\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n      \u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mensure\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mklassName\u001b[38;2;248;248;242m,\u001b[39m key\u001b[38;2;248;248;242m,\u001b[39m \u001b[38;2;166;226;46m'object'\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n      Object\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mkeys\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mval\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mforEach\u001b[39m\u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mdataKey\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m=>\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n        \u001b[38;2;102;217;239mconst\u001b[39m dataValue \u001b[38;2;248;248;242m=\u001b[39m val\u001b[38;2;248;248;242m[\u001b[39mdataKey\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n        \u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m.\u001b[39mdata\u001b[38;2;248;248;242m[\u001b[39mklassName\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m[\u001b[39mkey\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m[\u001b[39mdataKey\u001b[38;2;248;248;242m]\u001b[39m \u001b[38;2;248;248;242m=\u001b[39m dataValue\u001b[38;2;248;248;242m;\u001b[39m\n      \u001b[38;2;248;248;242m}\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n    \u001b[38;2;248;248;242m}\u001b[39m \u001b[38;2;102;217;239melse\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n      \u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mensure\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mklassName\u001b[38;2;248;248;242m,\u001b[39m key\u001b[38;2;248;248;242m,\u001b[39m \u001b[38;2;166;226;46m'value'\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n      \u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m.\u001b[39mdata\u001b[38;2;248;248;242m[\u001b[39mklassName\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m[\u001b[39mkey\u001b[38;2;248;248;242m]\u001b[39m \u001b[38;2;248;248;242m=\u001b[39m val\u001b[38;2;248;248;242m;\u001b[39m\n    \u001b[38;2;248;248;242m}\u001b[39m\n  \u001b[38;2;248;248;242m}\u001b[39m\n\n  \u001b[38;2;230;219;116mread\u001b[39m\u001b[38;2;230;219;116m\u001b[38;2;248;248;242m<\u001b[39m\u001b[38;2;230;219;116m\u001b[38;2;249;38;114mU\u001b[39m\u001b[38;2;230;219;116m\u001b[38;2;248;248;242m>\u001b[39m\u001b[38;2;230;219;116m\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mklassName\u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;166;226;46mstring\u001b[39m\u001b[38;2;248;248;242m,\u001b[39m key\u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;166;226;46mstring\u001b[39m\u001b[38;2;248;248;242m,\u001b[39m ensureType\u001b[38;2;248;248;242m?\u001b[39m\u001b[38;2;248;248;242m:\u001b[39m t\u001b[38;2;248;248;242m.\u001b[39mRegistryType\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;249;38;114mU\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n    \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39mensureType\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mensure\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mklassName\u001b[38;2;248;248;242m,\u001b[39m key\u001b[38;2;248;248;242m,\u001b[39m ensureType\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n    \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m.\u001b[39mdata\u001b[38;2;248;248;242m[\u001b[39mklassName\u001b[38;2;248;248;242m]\u001b[39m \u001b[38;2;248;248;242m==\u001b[39m \u001b[38;2;102;217;239mundefined\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;102;217;239mreturn\u001b[39m \u001b[38;2;102;217;239mundefined\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n    \u001b[38;2;102;217;239mreturn\u001b[39m \u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m.\u001b[39mdata\u001b[38;2;248;248;242m[\u001b[39mklassName\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m[\u001b[39mkey\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n  \u001b[38;2;248;248;242m}\u001b[39m\n\n  \u001b[38;2;230;219;116mdestroy\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mklassName\u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;166;226;46mstring\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n    \u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m.\u001b[39mdata\u001b[38;2;248;248;242m[\u001b[39mklassName\u001b[38;2;248;248;242m]\u001b[39m \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\u001b[38;2;248;248;242m}\u001b[39m \u001b[38;2;102;217;239mas\u001b[39m \u001b[38;2;249;38;114mT\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n  \u001b[38;2;248;248;242m}\u001b[39m\n\n  \u001b[38;2;102;217;239mprivate\u001b[39m \u001b[38;2;230;219;116mensure\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mklassName\u001b[38;2;248;248;242m,\u001b[39m key\u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;166;226;46mstring\u001b[39m\u001b[38;2;248;248;242m,\u001b[39m \u001b[38;2;102;217;239mtype\u001b[39m\u001b[38;2;248;248;242m:\u001b[39m t\u001b[38;2;248;248;242m.\u001b[39mRegistryType\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n    \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m.\u001b[39mdata\u001b[38;2;248;248;242m[\u001b[39mklassName\u001b[38;2;248;248;242m]\u001b[39m \u001b[38;2;248;248;242m==\u001b[39m \u001b[38;2;102;217;239mundefined\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n      \u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m.\u001b[39mdata\u001b[38;2;248;248;242m[\u001b[39mklassName\u001b[38;2;248;248;242m]\u001b[39m \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\u001b[38;2;248;248;242m}\u001b[39m \u001b[38;2;102;217;239mas\u001b[39m \u001b[38;2;249;38;114mT\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n    \u001b[38;2;248;248;242m}\u001b[39m\n\n    \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m.\u001b[39mdata\u001b[38;2;248;248;242m[\u001b[39mklassName\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m[\u001b[39mkey\u001b[38;2;248;248;242m]\u001b[39m \u001b[38;2;248;248;242m==\u001b[39m \u001b[38;2;102;217;239mundefined\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n      \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;102;217;239mtype\u001b[39m \u001b[38;2;248;248;242m==\u001b[39m \u001b[38;2;166;226;46m'array'\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n        \u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m.\u001b[39mdata\u001b[38;2;248;248;242m[\u001b[39mklassName\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m[\u001b[39mkey\u001b[38;2;248;248;242m]\u001b[39m \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;248;248;242m[\u001b[39m\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n      \u001b[38;2;248;248;242m}\u001b[39m \u001b[38;2;102;217;239melse\u001b[39m \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;102;217;239mtype\u001b[39m \u001b[38;2;248;248;242m==\u001b[39m \u001b[38;2;166;226;46m'object'\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n        \u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m.\u001b[39mdata\u001b[38;2;248;248;242m[\u001b[39mklassName\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m[\u001b[39mkey\u001b[38;2;248;248;242m]\u001b[39m \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\u001b[38;2;248;248;242m}\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n      \u001b[38;2;248;248;242m}\u001b[39m \u001b[38;2;102;217;239melse\u001b[39m \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;102;217;239mtype\u001b[39m \u001b[38;2;248;248;242m==\u001b[39m \u001b[38;2;166;226;46m'value'\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n        \u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m.\u001b[39mdata\u001b[38;2;248;248;242m[\u001b[39mklassName\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m[\u001b[39mkey\u001b[38;2;248;248;242m]\u001b[39m \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;102;217;239mundefined\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n      \u001b[38;2;248;248;242m}\u001b[39m\n    \u001b[38;2;248;248;242m}\u001b[39m\n  \u001b[38;2;248;248;242m}\u001b[39m\n\u001b[38;2;248;248;242m}\u001b[39m",
        "line": [
          4,
          71
        ]
      }
    ],
    "instance": {
      "create": {
        "text": "create(klassName: string, key: string, val: t.RegistryValue) {\n    if (Array.isArray(val)) {\n      this.ensure(klassName, key, 'array');\n      this.data[klassName][key].push(...val);\n    } else if (typeof val === 'object' && val != null) {\n      this.ensure(klassName, key, 'object');\n      Object.keys(val).forEach((dataKey) => {\n        const dataValue = val[dataKey];\n        this.data[klassName][key][dataKey] = dataValue;\n      });\n    } else {\n      this.ensure(klassName, key, 'value');\n      this.data[klassName][key] = val;\n    }\n  }",
        "highlightText": "\u001b[38;2;230;219;116mcreate\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mklassName\u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;166;226;46mstring\u001b[39m\u001b[38;2;248;248;242m,\u001b[39m key\u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;166;226;46mstring\u001b[39m\u001b[38;2;248;248;242m,\u001b[39m val\u001b[38;2;248;248;242m:\u001b[39m t\u001b[38;2;248;248;242m.\u001b[39mRegistryValue\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n    \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;166;226;46mArray\u001b[39m\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116misArray\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mval\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n      \u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mensure\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mklassName\u001b[38;2;248;248;242m,\u001b[39m key\u001b[38;2;248;248;242m,\u001b[39m \u001b[38;2;166;226;46m'array'\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n      \u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m.\u001b[39mdata\u001b[38;2;248;248;242m[\u001b[39mklassName\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m[\u001b[39mkey\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mpush\u001b[39m\u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;248;248;242m...\u001b[39mval\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n    \u001b[38;2;248;248;242m}\u001b[39m \u001b[38;2;102;217;239melse\u001b[39m \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;102;217;239mtypeof\u001b[39m val \u001b[38;2;248;248;242m===\u001b[39m \u001b[38;2;166;226;46m'object'\u001b[39m \u001b[38;2;248;248;242m&&\u001b[39m val \u001b[38;2;248;248;242m!=\u001b[39m \u001b[38;2;102;217;239mnull\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n      \u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mensure\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mklassName\u001b[38;2;248;248;242m,\u001b[39m key\u001b[38;2;248;248;242m,\u001b[39m \u001b[38;2;166;226;46m'object'\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n      Object\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mkeys\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mval\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mforEach\u001b[39m\u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mdataKey\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m=>\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n        \u001b[38;2;102;217;239mconst\u001b[39m dataValue \u001b[38;2;248;248;242m=\u001b[39m val\u001b[38;2;248;248;242m[\u001b[39mdataKey\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n        \u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m.\u001b[39mdata\u001b[38;2;248;248;242m[\u001b[39mklassName\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m[\u001b[39mkey\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m[\u001b[39mdataKey\u001b[38;2;248;248;242m]\u001b[39m \u001b[38;2;248;248;242m=\u001b[39m dataValue\u001b[38;2;248;248;242m;\u001b[39m\n      \u001b[38;2;248;248;242m}\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n    \u001b[38;2;248;248;242m}\u001b[39m \u001b[38;2;102;217;239melse\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n      \u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mensure\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mklassName\u001b[38;2;248;248;242m,\u001b[39m key\u001b[38;2;248;248;242m,\u001b[39m \u001b[38;2;166;226;46m'value'\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n      \u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m.\u001b[39mdata\u001b[38;2;248;248;242m[\u001b[39mklassName\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m[\u001b[39mkey\u001b[38;2;248;248;242m]\u001b[39m \u001b[38;2;248;248;242m=\u001b[39m val\u001b[38;2;248;248;242m;\u001b[39m\n    \u001b[38;2;248;248;242m}\u001b[39m\n  \u001b[38;2;248;248;242m}\u001b[39m",
        "isAsync": false,
        "visibility": "public",
        "line": [
          13,
          27
        ]
      },
      "update": {
        "text": "update(klassName: string, key: string, val: t.RegistryValue) {\n    if (Array.isArray(val)) {\n      this.ensure(klassName, key, 'array');\n      const beforeRegistryData = this.data[klassName][key];\n      this.data[klassName][key].splice(0, beforeRegistryData.length, ...val);\n    } else if (typeof val === 'object' && val != null) {\n      this.ensure(klassName, key, 'object');\n      Object.keys(val).forEach((dataKey) => {\n        const dataValue = val[dataKey];\n        this.data[klassName][key][dataKey] = dataValue;\n      });\n    } else {\n      this.ensure(klassName, key, 'value');\n      this.data[klassName][key] = val;\n    }\n  }",
        "highlightText": "\u001b[38;2;230;219;116mupdate\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mklassName\u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;166;226;46mstring\u001b[39m\u001b[38;2;248;248;242m,\u001b[39m key\u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;166;226;46mstring\u001b[39m\u001b[38;2;248;248;242m,\u001b[39m val\u001b[38;2;248;248;242m:\u001b[39m t\u001b[38;2;248;248;242m.\u001b[39mRegistryValue\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n    \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;166;226;46mArray\u001b[39m\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116misArray\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mval\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n      \u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mensure\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mklassName\u001b[38;2;248;248;242m,\u001b[39m key\u001b[38;2;248;248;242m,\u001b[39m \u001b[38;2;166;226;46m'array'\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n      \u001b[38;2;102;217;239mconst\u001b[39m beforeRegistryData \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m.\u001b[39mdata\u001b[38;2;248;248;242m[\u001b[39mklassName\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m[\u001b[39mkey\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n      \u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m.\u001b[39mdata\u001b[38;2;248;248;242m[\u001b[39mklassName\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m[\u001b[39mkey\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116msplice\u001b[39m\u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;174;129;255m0\u001b[39m\u001b[38;2;248;248;242m,\u001b[39m beforeRegistryData\u001b[38;2;248;248;242m.\u001b[39mlength\u001b[38;2;248;248;242m,\u001b[39m \u001b[38;2;248;248;242m...\u001b[39mval\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n    \u001b[38;2;248;248;242m}\u001b[39m \u001b[38;2;102;217;239melse\u001b[39m \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;102;217;239mtypeof\u001b[39m val \u001b[38;2;248;248;242m===\u001b[39m \u001b[38;2;166;226;46m'object'\u001b[39m \u001b[38;2;248;248;242m&&\u001b[39m val \u001b[38;2;248;248;242m!=\u001b[39m \u001b[38;2;102;217;239mnull\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n      \u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mensure\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mklassName\u001b[38;2;248;248;242m,\u001b[39m key\u001b[38;2;248;248;242m,\u001b[39m \u001b[38;2;166;226;46m'object'\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n      Object\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mkeys\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mval\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mforEach\u001b[39m\u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mdataKey\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m=>\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n        \u001b[38;2;102;217;239mconst\u001b[39m dataValue \u001b[38;2;248;248;242m=\u001b[39m val\u001b[38;2;248;248;242m[\u001b[39mdataKey\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n        \u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m.\u001b[39mdata\u001b[38;2;248;248;242m[\u001b[39mklassName\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m[\u001b[39mkey\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m[\u001b[39mdataKey\u001b[38;2;248;248;242m]\u001b[39m \u001b[38;2;248;248;242m=\u001b[39m dataValue\u001b[38;2;248;248;242m;\u001b[39m\n      \u001b[38;2;248;248;242m}\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n    \u001b[38;2;248;248;242m}\u001b[39m \u001b[38;2;102;217;239melse\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n      \u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mensure\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mklassName\u001b[38;2;248;248;242m,\u001b[39m key\u001b[38;2;248;248;242m,\u001b[39m \u001b[38;2;166;226;46m'value'\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n      \u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m.\u001b[39mdata\u001b[38;2;248;248;242m[\u001b[39mklassName\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m[\u001b[39mkey\u001b[38;2;248;248;242m]\u001b[39m \u001b[38;2;248;248;242m=\u001b[39m val\u001b[38;2;248;248;242m;\u001b[39m\n    \u001b[38;2;248;248;242m}\u001b[39m\n  \u001b[38;2;248;248;242m}\u001b[39m",
        "isAsync": false,
        "visibility": "public",
        "line": [
          29,
          44
        ]
      },
      "read": {
        "text": "read<U>(klassName: string, key: string, ensureType?: t.RegistryType): U {\n    if (ensureType) this.ensure(klassName, key, ensureType);\n    if (this.data[klassName] == undefined) return undefined;\n    return this.data[klassName][key];\n  }",
        "highlightText": "\u001b[38;2;230;219;116mread\u001b[39m\u001b[38;2;230;219;116m\u001b[38;2;248;248;242m<\u001b[39m\u001b[38;2;230;219;116m\u001b[38;2;249;38;114mU\u001b[39m\u001b[38;2;230;219;116m\u001b[38;2;248;248;242m>\u001b[39m\u001b[38;2;230;219;116m\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mklassName\u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;166;226;46mstring\u001b[39m\u001b[38;2;248;248;242m,\u001b[39m key\u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;166;226;46mstring\u001b[39m\u001b[38;2;248;248;242m,\u001b[39m ensureType\u001b[38;2;248;248;242m?\u001b[39m\u001b[38;2;248;248;242m:\u001b[39m t\u001b[38;2;248;248;242m.\u001b[39mRegistryType\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;249;38;114mU\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n    \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39mensureType\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mensure\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mklassName\u001b[38;2;248;248;242m,\u001b[39m key\u001b[38;2;248;248;242m,\u001b[39m ensureType\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n    \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m.\u001b[39mdata\u001b[38;2;248;248;242m[\u001b[39mklassName\u001b[38;2;248;248;242m]\u001b[39m \u001b[38;2;248;248;242m==\u001b[39m \u001b[38;2;102;217;239mundefined\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;102;217;239mreturn\u001b[39m \u001b[38;2;102;217;239mundefined\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n    \u001b[38;2;102;217;239mreturn\u001b[39m \u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m.\u001b[39mdata\u001b[38;2;248;248;242m[\u001b[39mklassName\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m[\u001b[39mkey\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n  \u001b[38;2;248;248;242m}\u001b[39m",
        "isAsync": false,
        "visibility": "public",
        "line": [
          46,
          50
        ]
      },
      "destroy": {
        "text": "destroy(klassName: string) {\n    this.data[klassName] = {} as T;\n  }",
        "highlightText": "\u001b[38;2;230;219;116mdestroy\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mklassName\u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;166;226;46mstring\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n    \u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m.\u001b[39mdata\u001b[38;2;248;248;242m[\u001b[39mklassName\u001b[38;2;248;248;242m]\u001b[39m \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\u001b[38;2;248;248;242m}\u001b[39m \u001b[38;2;102;217;239mas\u001b[39m \u001b[38;2;249;38;114mT\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n  \u001b[38;2;248;248;242m}\u001b[39m",
        "isAsync": false,
        "visibility": "public",
        "line": [
          52,
          54
        ]
      },
      "ensure": {
        "text": "private ensure(klassName, key: string, type: t.RegistryType) {\n    if (this.data[klassName] == undefined) {\n      this.data[klassName] = {} as T;\n    }\n\n    if (this.data[klassName][key] == undefined) {\n      if (type == 'array') {\n        this.data[klassName][key] = [];\n      } else if (type == 'object') {\n        this.data[klassName][key] = {};\n      } else if (type == 'value') {\n        this.data[klassName][key] = undefined;\n      }\n    }\n  }",
        "highlightText": "\u001b[38;2;102;217;239mprivate\u001b[39m \u001b[38;2;230;219;116mensure\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mklassName\u001b[38;2;248;248;242m,\u001b[39m key\u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;166;226;46mstring\u001b[39m\u001b[38;2;248;248;242m,\u001b[39m \u001b[38;2;102;217;239mtype\u001b[39m\u001b[38;2;248;248;242m:\u001b[39m t\u001b[38;2;248;248;242m.\u001b[39mRegistryType\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n    \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m.\u001b[39mdata\u001b[38;2;248;248;242m[\u001b[39mklassName\u001b[38;2;248;248;242m]\u001b[39m \u001b[38;2;248;248;242m==\u001b[39m \u001b[38;2;102;217;239mundefined\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n      \u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m.\u001b[39mdata\u001b[38;2;248;248;242m[\u001b[39mklassName\u001b[38;2;248;248;242m]\u001b[39m \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\u001b[38;2;248;248;242m}\u001b[39m \u001b[38;2;102;217;239mas\u001b[39m \u001b[38;2;249;38;114mT\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n    \u001b[38;2;248;248;242m}\u001b[39m\n\n    \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m.\u001b[39mdata\u001b[38;2;248;248;242m[\u001b[39mklassName\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m[\u001b[39mkey\u001b[38;2;248;248;242m]\u001b[39m \u001b[38;2;248;248;242m==\u001b[39m \u001b[38;2;102;217;239mundefined\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n      \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;102;217;239mtype\u001b[39m \u001b[38;2;248;248;242m==\u001b[39m \u001b[38;2;166;226;46m'array'\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n        \u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m.\u001b[39mdata\u001b[38;2;248;248;242m[\u001b[39mklassName\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m[\u001b[39mkey\u001b[38;2;248;248;242m]\u001b[39m \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;248;248;242m[\u001b[39m\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n      \u001b[38;2;248;248;242m}\u001b[39m \u001b[38;2;102;217;239melse\u001b[39m \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;102;217;239mtype\u001b[39m \u001b[38;2;248;248;242m==\u001b[39m \u001b[38;2;166;226;46m'object'\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n        \u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m.\u001b[39mdata\u001b[38;2;248;248;242m[\u001b[39mklassName\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m[\u001b[39mkey\u001b[38;2;248;248;242m]\u001b[39m \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\u001b[38;2;248;248;242m}\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n      \u001b[38;2;248;248;242m}\u001b[39m \u001b[38;2;102;217;239melse\u001b[39m \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;102;217;239mtype\u001b[39m \u001b[38;2;248;248;242m==\u001b[39m \u001b[38;2;166;226;46m'value'\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n        \u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m.\u001b[39mdata\u001b[38;2;248;248;242m[\u001b[39mklassName\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m[\u001b[39mkey\u001b[38;2;248;248;242m]\u001b[39m \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;102;217;239mundefined\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n      \u001b[38;2;248;248;242m}\u001b[39m\n    \u001b[38;2;248;248;242m}\u001b[39m\n  \u001b[38;2;248;248;242m}\u001b[39m",
        "isAsync": false,
        "visibility": "private",
        "line": [
          56,
          70
        ]
      }
    },
    "$constructor": {
      "text": "constructor(registryName: string) {\n    this.registryName = registryName;\n    this.data = {} as t.RegistryData<T>;\n  }",
      "highlightText": "\u001b[38;2;102;217;239mconstructor\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mregistryName\u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;166;226;46mstring\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n    \u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m.\u001b[39mregistryName \u001b[38;2;248;248;242m=\u001b[39m registryName\u001b[38;2;248;248;242m;\u001b[39m\n    \u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m.\u001b[39mdata \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\u001b[38;2;248;248;242m}\u001b[39m \u001b[38;2;102;217;239mas\u001b[39m t\u001b[38;2;248;248;242m.\u001b[39mRegistryData\u001b[38;2;248;248;242m<\u001b[39m\u001b[38;2;249;38;114mT\u001b[39m\u001b[38;2;248;248;242m>\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n  \u001b[38;2;248;248;242m}\u001b[39m",
      "line": [
        8,
        11
      ]
    }
  },
  "ActiveSupport$Base": {
    "metadata": {
      "filepath": "@rue/packages/activesupport/src/supports/base.ts",
      "updatedAt": "2021/03/22 01:29:53 +09:00"
    },
    "class": [
      {
        "text": "export class ActiveSupport$Base extends ActiveSupport$Impl {\n  static inspect(instance: any): string {\n    const klassName = instance.constructor.name;\n    let sorted = {};\n\n    const keys = Object.keys(instance).sort();\n    keys.forEach(function (key) {\n      sorted[key] = this[key];\n    }, instance);\n\n    return `${klassName} ${JSON.stringify(sorted, null, 2)}`;\n  }\n}",
        "highlightText": "\u001b[38;2;102;217;239mexport\u001b[39m \u001b[38;2;102;217;239mclass\u001b[39m \u001b[38;2;230;219;116mActiveSupport$Base\u001b[39m \u001b[38;2;102;217;239mextends\u001b[39m \u001b[38;2;230;219;116mActiveSupport$Impl\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n  \u001b[38;2;102;217;239mstatic\u001b[39m \u001b[38;2;230;219;116minspect\u001b[39m\u001b[38;2;248;248;242m(\u001b[39minstance\u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;166;226;46many\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;166;226;46mstring\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n    \u001b[38;2;102;217;239mconst\u001b[39m klassName \u001b[38;2;248;248;242m=\u001b[39m instance\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;102;217;239mconstructor\u001b[39m\u001b[38;2;248;248;242m.\u001b[39mname\u001b[38;2;248;248;242m;\u001b[39m\n    \u001b[38;2;102;217;239mlet\u001b[39m sorted \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\u001b[38;2;248;248;242m}\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n\n    \u001b[38;2;102;217;239mconst\u001b[39m keys \u001b[38;2;248;248;242m=\u001b[39m Object\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mkeys\u001b[39m\u001b[38;2;248;248;242m(\u001b[39minstance\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116msort\u001b[39m\u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n    keys\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mforEach\u001b[39m\u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;102;217;239mfunction\u001b[39m \u001b[38;2;248;248;242m(\u001b[39mkey\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n      sorted\u001b[38;2;248;248;242m[\u001b[39mkey\u001b[38;2;248;248;242m]\u001b[39m \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m[\u001b[39mkey\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n    \u001b[38;2;248;248;242m}\u001b[39m\u001b[38;2;248;248;242m,\u001b[39m instance\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n\n    \u001b[38;2;102;217;239mreturn\u001b[39m \u001b[38;2;166;226;46m`\u001b[39m\u001b[38;2;248;248;242m${\u001b[39mklassName\u001b[38;2;248;248;242m}\u001b[39m\u001b[38;2;166;226;46m \u001b[39m\u001b[38;2;248;248;242m${\u001b[39m\u001b[38;2;249;38;114mJSON\u001b[39m\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mstringify\u001b[39m\u001b[38;2;248;248;242m(\u001b[39msorted\u001b[38;2;248;248;242m,\u001b[39m \u001b[38;2;102;217;239mnull\u001b[39m\u001b[38;2;248;248;242m,\u001b[39m \u001b[38;2;174;129;255m2\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m}\u001b[39m\u001b[38;2;166;226;46m`\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n  \u001b[38;2;248;248;242m}\u001b[39m\n\u001b[38;2;248;248;242m}\u001b[39m",
        "line": [
          4,
          16
        ]
      }
    ],
    "static": {
      "inspect": {
        "text": "static inspect(instance: any): string {\n    const klassName = instance.constructor.name;\n    let sorted = {};\n\n    const keys = Object.keys(instance).sort();\n    keys.forEach(function (key) {\n      sorted[key] = this[key];\n    }, instance);\n\n    return `${klassName} ${JSON.stringify(sorted, null, 2)}`;\n  }",
        "highlightText": "\u001b[38;2;102;217;239mstatic\u001b[39m \u001b[38;2;230;219;116minspect\u001b[39m\u001b[38;2;248;248;242m(\u001b[39minstance\u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;166;226;46many\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;166;226;46mstring\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n    \u001b[38;2;102;217;239mconst\u001b[39m klassName \u001b[38;2;248;248;242m=\u001b[39m instance\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;102;217;239mconstructor\u001b[39m\u001b[38;2;248;248;242m.\u001b[39mname\u001b[38;2;248;248;242m;\u001b[39m\n    \u001b[38;2;102;217;239mlet\u001b[39m sorted \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\u001b[38;2;248;248;242m}\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n\n    \u001b[38;2;102;217;239mconst\u001b[39m keys \u001b[38;2;248;248;242m=\u001b[39m Object\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mkeys\u001b[39m\u001b[38;2;248;248;242m(\u001b[39minstance\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116msort\u001b[39m\u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n    keys\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mforEach\u001b[39m\u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;102;217;239mfunction\u001b[39m \u001b[38;2;248;248;242m(\u001b[39mkey\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n      sorted\u001b[38;2;248;248;242m[\u001b[39mkey\u001b[38;2;248;248;242m]\u001b[39m \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m[\u001b[39mkey\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n    \u001b[38;2;248;248;242m}\u001b[39m\u001b[38;2;248;248;242m,\u001b[39m instance\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n\n    \u001b[38;2;102;217;239mreturn\u001b[39m \u001b[38;2;166;226;46m`\u001b[39m\u001b[38;2;248;248;242m${\u001b[39mklassName\u001b[38;2;248;248;242m}\u001b[39m\u001b[38;2;166;226;46m \u001b[39m\u001b[38;2;248;248;242m${\u001b[39m\u001b[38;2;249;38;114mJSON\u001b[39m\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mstringify\u001b[39m\u001b[38;2;248;248;242m(\u001b[39msorted\u001b[38;2;248;248;242m,\u001b[39m \u001b[38;2;102;217;239mnull\u001b[39m\u001b[38;2;248;248;242m,\u001b[39m \u001b[38;2;174;129;255m2\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m}\u001b[39m\u001b[38;2;166;226;46m`\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n  \u001b[38;2;248;248;242m}\u001b[39m",
        "isAsync": false,
        "visibility": "public",
        "line": [
          5,
          15
        ]
      }
    }
  },
  "ActiveSupport$ImplBase": {
    "metadata": {
      "filepath": "@rue/packages/activesupport/src/supports/impl.ts",
      "updatedAt": "2021/03/22 01:29:53 +09:00"
    },
    "class": [
      {
        "text": "export abstract class ActiveSupport$ImplBase {\n  // Prepared for checking with hasOwnProperty ()\n  static __rue_impl_class__ = true;\n}",
        "highlightText": "\u001b[38;2;102;217;239mexport\u001b[39m \u001b[38;2;102;217;239mabstract\u001b[39m \u001b[38;2;102;217;239mclass\u001b[39m \u001b[38;2;230;219;116mActiveSupport$ImplBase\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n  \u001b[38;2;130;146;162m// Prepared for checking with hasOwnProperty ()\u001b[39m\n  \u001b[38;2;102;217;239mstatic\u001b[39m __rue_impl_class__ \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;174;129;255mtrue\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n\u001b[38;2;248;248;242m}\u001b[39m",
        "line": [
          10,
          13
        ]
      }
    ]
  },
  "ActiveSupport$Impl": {
    "metadata": {
      "filepath": "@rue/packages/activesupport/src/supports/impl.ts",
      "updatedAt": "2021/03/22 01:29:53 +09:00"
    },
    "class": [
      {
        "text": "abstract class ActiveSupport$Impl extends ActiveSupport$ImplBase {\n  // Prepared for checking with hasOwnProperty ()\n  static __rue_impl_class__ = ActiveSupport$ImplBase.__rue_impl_class__;\n  static __rue_ancestors__ = [];\n\n  static getMethodsWithNamespace: (obj?: Function | object) => mit.Info$MethodWithNamespace;\n  static getProperties: (obj?: Function) => string[];\n  static getAncestors: <T = string>(\n    obj?: Function | object,\n    transformer?: (obj: Function) => T\n  ) => T[];\n  static getOwnerFrom: (obj: Function | object, propName: string) => Function | RueModule;\n}",
        "highlightText": "\u001b[38;2;102;217;239mabstract\u001b[39m \u001b[38;2;102;217;239mclass\u001b[39m \u001b[38;2;230;219;116mActiveSupport$Impl\u001b[39m \u001b[38;2;102;217;239mextends\u001b[39m \u001b[38;2;230;219;116mActiveSupport$ImplBase\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n  \u001b[38;2;130;146;162m// Prepared for checking with hasOwnProperty ()\u001b[39m\n  \u001b[38;2;102;217;239mstatic\u001b[39m __rue_impl_class__ \u001b[38;2;248;248;242m=\u001b[39m ActiveSupport$ImplBase\u001b[38;2;248;248;242m.\u001b[39m__rue_impl_class__\u001b[38;2;248;248;242m;\u001b[39m\n  \u001b[38;2;102;217;239mstatic\u001b[39m __rue_ancestors__ \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;248;248;242m[\u001b[39m\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n\n  \u001b[38;2;102;217;239mstatic\u001b[39m \u001b[38;2;230;219;116mgetMethodsWithNamespace\u001b[39m\u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;248;248;242m(\u001b[39mobj\u001b[38;2;248;248;242m?\u001b[39m\u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;166;226;46mFunction\u001b[39m \u001b[38;2;248;248;242m|\u001b[39m object\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m=>\u001b[39m mit\u001b[38;2;248;248;242m.\u001b[39mInfo$MethodWithNamespace\u001b[38;2;248;248;242m;\u001b[39m\n  \u001b[38;2;102;217;239mstatic\u001b[39m \u001b[38;2;230;219;116mgetProperties\u001b[39m\u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;248;248;242m(\u001b[39mobj\u001b[38;2;248;248;242m?\u001b[39m\u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;166;226;46mFunction\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m=>\u001b[39m \u001b[38;2;166;226;46mstring\u001b[39m\u001b[38;2;248;248;242m[\u001b[39m\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n  \u001b[38;2;102;217;239mstatic\u001b[39m getAncestors\u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;248;248;242m<\u001b[39m\u001b[38;2;249;38;114mT\u001b[39m \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;166;226;46mstring\u001b[39m\u001b[38;2;248;248;242m>\u001b[39m\u001b[38;2;248;248;242m(\u001b[39m\n    obj\u001b[38;2;248;248;242m?\u001b[39m\u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;166;226;46mFunction\u001b[39m \u001b[38;2;248;248;242m|\u001b[39m object\u001b[38;2;248;248;242m,\u001b[39m\n    transformer\u001b[38;2;248;248;242m?\u001b[39m\u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;248;248;242m(\u001b[39mobj\u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;166;226;46mFunction\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m=>\u001b[39m \u001b[38;2;249;38;114mT\u001b[39m\n  \u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m=>\u001b[39m \u001b[38;2;249;38;114mT\u001b[39m\u001b[38;2;248;248;242m[\u001b[39m\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n  \u001b[38;2;102;217;239mstatic\u001b[39m \u001b[38;2;230;219;116mgetOwnerFrom\u001b[39m\u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;248;248;242m(\u001b[39mobj\u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;166;226;46mFunction\u001b[39m \u001b[38;2;248;248;242m|\u001b[39m object\u001b[38;2;248;248;242m,\u001b[39m propName\u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;166;226;46mstring\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m=>\u001b[39m \u001b[38;2;166;226;46mFunction\u001b[39m \u001b[38;2;248;248;242m|\u001b[39m RueModule\u001b[38;2;248;248;242m;\u001b[39m\n\u001b[38;2;248;248;242m}\u001b[39m",
        "line": [
          15,
          27
        ]
      },
      {
        "text": "interface ActiveSupport$Impl {}",
        "highlightText": "\u001b[38;2;102;217;239minterface\u001b[39m \u001b[38;2;230;219;116mActiveSupport$Impl\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\u001b[38;2;248;248;242m}\u001b[39m",
        "line": [
          29,
          29
        ]
      }
    ]
  },
  "ActiveSupport$Info": {
    "metadata": {
      "filepath": "@rue/packages/activesupport/src/supports/modules/info/core.ts",
      "updatedAt": "2021/03/22 01:29:53 +09:00"
    },
    "class": [
      {
        "text": "export class ActiveSupport$Info extends RueModule {\n  // Support Rue Module\n  // https://qiita.com/suin/items/b807769388c54c57a8be\n  static getMethodsWithNamespace(obj?: Function | object | RueModule): t.MethodWithNamespace[] {\n    const { RUE_MODULE, RUE_IMPL_CLASS } = RueModule;\n\n    const publicOnlyFilter = (name: string) => !name.startsWith('_');\n    const removePrototypeFilter = (obj: Function) => (name: string) =>\n      obj.name != '' ? name != 'prototype' : true;\n    const skipImplClassFilter = (obj: Function) => (name: string) =>\n      obj.hasOwnProperty(RUE_IMPL_CLASS) ? false : true;\n    const removeBuiltinMethodsFilter = (name: string) => !BUILTIN_STATIC_METHODS.includes(name);\n\n    const getOwnMethods = (obj: Function | RueModule) => {\n      return Object.entries(Object.getOwnPropertyDescriptors(obj))\n        .filter(([name, { value }]) => typeof value === 'function')\n        .map(([name]) => name);\n    };\n\n    const transformerFn = ({\n      isInstance,\n      isPrototype,\n    }: {\n      isInstance: boolean;\n      isPrototype: boolean;\n    }) => (obj: Function | RueModule) => {\n      let klassOrModuleName;\n      let methods;\n\n      if (obj[RUE_MODULE]) {\n        klassOrModuleName = `${obj['name']} (RueModule)`;\n\n        if (isInstance || isPrototype) {\n          methods = Object.keys(Object.getOwnPropertyDescriptors(obj['prototype']) || []);\n        } else {\n          methods = Object.keys(Object.getOwnPropertyDescriptors(obj) || []);\n        }\n      } else {\n        klassOrModuleName = obj['name'];\n\n        if (isInstance) {\n          methods = getOwnMethods(obj.constructor);\n        } else if (isPrototype) {\n          if (obj && (obj['name'] === '' || !obj['name'])) {\n            methods = getOwnMethods(obj.constructor);\n          } else {\n            methods = getOwnMethods(obj['prototype']);\n          }\n        } else {\n          methods = getOwnMethods(obj);\n        }\n      }\n\n      // https://stackoverflow.com/questions/56659303/what-is-base-object-in-javascript\n      // cosmetic namespace\n      if (klassOrModuleName === '') {\n        klassOrModuleName = 'Function';\n      } else if (klassOrModuleName === undefined) {\n        klassOrModuleName = 'Object';\n      }\n\n      // prettier-ignore\n      return {\n        [klassOrModuleName]: methods\n          .filter(publicOnlyFilter)\n          .filter(removePrototypeFilter(obj as Function))\n          .filter(skipImplClassFilter(obj as Function))\n          .filter(removeBuiltinMethodsFilter),\n      };\n    };\n\n    // main\n\n    const target = obj ? obj : this;\n    let isInstance, isPrototype;\n    if (typeof target === 'object') {\n      isPrototype = isSuperset(\n        BUILTIN_PROTOTYPE_METHODS,\n        Object.keys(Object.getOwnPropertyDescriptors(obj.constructor))\n      );\n      isInstance = isPrototype ? false : true;\n    } else {\n      isInstance = false;\n      isPrototype = false;\n    }\n\n    return this.getAncestors(target, transformerFn({ isInstance, isPrototype })).reduce(\n      (acc, item) => {\n        Object.assign(acc, item);\n        return acc;\n      },\n      {} as any\n    );\n  }\n\n  static getProperties(obj: Function): string[] {\n    let target = new (this as any)();\n    if (obj) target = obj;\n\n    const descriptors = Object.getOwnPropertyDescriptors(target);\n    return Object.keys(descriptors);\n  }\n\n  static getAncestors<T = string>(\n    obj?: Function | object,\n    transformer?: (obj: Function) => T\n  ): T[] {\n    const { RUE_MODULE } = RueModule;\n\n    // @important\n    // RueModule's ancestor chain and JavaScript prototype chain are not related.\n    // Therefore you have to reassemble the chain yourself\n\n    const _getAncestors = <T>(f: Function, ancestors: T[]) => {\n      const proto = Object.getPrototypeOf(f);\n\n      if (proto == null) return ancestors;\n      const fRueModuleAncestors = new RueModuleAncestorController(f);\n\n      if (fRueModuleAncestors.data.length > 0) {\n        fRueModuleAncestors.ancestors().forEach((ancestor: T) => {\n          const proto = Object.getPrototypeOf(ancestor);\n          if (proto.__rue_impl_class__) {\n            const controller = new RueModuleAncestorController(proto);\n            const willAddAncestors = [ancestor, ...controller.ancestors()];\n            willAddAncestors.forEach((childAncestor: T) => {\n              if (!ancestors.includes(childAncestor)) ancestors.push(childAncestor);\n            });\n          } else {\n            if (!ancestors.includes(ancestor)) ancestors.push(ancestor);\n          }\n        });\n        return _getAncestors(proto, ancestors);\n      } else {\n        if (f && f['name'] && !ancestors.includes(f as any)) ancestors.push(f as any);\n        return _getAncestors(proto, ancestors);\n      }\n    };\n\n    const defaultTransformer = (obj: Function): string => {\n      let ancestorName;\n\n      if (obj[RUE_MODULE]) {\n        ancestorName = `${obj['name']} (RueModule)`;\n      } else {\n        ancestorName = obj['name'];\n      }\n\n      // https://stackoverflow.com/questions/56659303/what-is-base-object-in-javascript\n      // cosmetic namespace\n      if (ancestorName === '') {\n        ancestorName = 'Function';\n      } else if (ancestorName === undefined) {\n        ancestorName = 'Object';\n      }\n\n      return ancestorName;\n    };\n\n    let target;\n    if (obj) {\n      target = obj;\n      if (typeof obj === 'object') target = obj.constructor;\n    } else {\n      target = this;\n      // @ts-ignore\n      if (typeof this === 'object') target = this.constructor;\n    }\n\n    let ancestors = [];\n    let useTransformer;\n    if (transformer) {\n      useTransformer = transformer;\n      ancestors = _getAncestors(target, ancestors);\n    } else {\n      useTransformer = defaultTransformer;\n      ancestors = _getAncestors(target, ancestors);\n    }\n\n    // Add base class to ancestors\n    const funcAncs = Function.prototype;\n    const objAncs = Object.prototype;\n    if (!ancestors.includes(funcAncs)) ancestors.push(funcAncs);\n    if (!ancestors.includes(objAncs)) ancestors.push(objAncs);\n\n    return ancestors.map(useTransformer);\n  }\n\n  static getOwnerFrom(obj: Function | object, propName: string): Function | RueModule {\n    const { RUE_IMPL_CLASS } = RueModule;\n    const isStatic = typeof obj === 'function' ? true : false;\n\n    let foundOwner;\n    const ancestors = this.getAncestors(obj, (obj) => obj);\n    for (let i = 0; i < ancestors.length; i++) {\n      const ancestor = ancestors[i];\n      if (!ancestor.hasOwnProperty(RUE_IMPL_CLASS)) {\n        if (isStatic && ancestor.hasOwnProperty(propName)) {\n          foundOwner = ancestor;\n          break;\n        } else if (!isStatic && ancestor.prototype.hasOwnProperty(propName)) {\n          foundOwner = ancestor;\n          break;\n        }\n      }\n    }\n\n    return foundOwner;\n  }\n}",
        "highlightText": "\u001b[38;2;102;217;239mexport\u001b[39m \u001b[38;2;102;217;239mclass\u001b[39m \u001b[38;2;230;219;116mActiveSupport$Info\u001b[39m \u001b[38;2;102;217;239mextends\u001b[39m \u001b[38;2;230;219;116mRueModule\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n  \u001b[38;2;130;146;162m// Support Rue Module\u001b[39m\n  \u001b[38;2;130;146;162m// https://qiita.com/suin/items/b807769388c54c57a8be\u001b[39m\n  \u001b[38;2;102;217;239mstatic\u001b[39m \u001b[38;2;230;219;116mgetMethodsWithNamespace\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mobj\u001b[38;2;248;248;242m?\u001b[39m\u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;166;226;46mFunction\u001b[39m \u001b[38;2;248;248;242m|\u001b[39m object \u001b[38;2;248;248;242m|\u001b[39m RueModule\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m:\u001b[39m t\u001b[38;2;248;248;242m.\u001b[39mMethodWithNamespace\u001b[38;2;248;248;242m[\u001b[39m\u001b[38;2;248;248;242m]\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n    \u001b[38;2;102;217;239mconst\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m \u001b[38;2;249;38;114mRUE_MODULE\u001b[39m\u001b[38;2;248;248;242m,\u001b[39m \u001b[38;2;249;38;114mRUE_IMPL_CLASS\u001b[39m \u001b[38;2;248;248;242m}\u001b[39m \u001b[38;2;248;248;242m=\u001b[39m RueModule\u001b[38;2;248;248;242m;\u001b[39m\n\n    \u001b[38;2;102;217;239mconst\u001b[39m \u001b[38;2;230;219;116mpublicOnlyFilter\u001b[39m \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;248;248;242m(\u001b[39mname\u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;166;226;46mstring\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m=>\u001b[39m \u001b[38;2;248;248;242m!\u001b[39mname\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mstartsWith\u001b[39m\u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;166;226;46m'_'\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n    \u001b[38;2;102;217;239mconst\u001b[39m \u001b[38;2;230;219;116mremovePrototypeFilter\u001b[39m \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;248;248;242m(\u001b[39mobj\u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;166;226;46mFunction\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m=>\u001b[39m \u001b[38;2;248;248;242m(\u001b[39mname\u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;166;226;46mstring\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m=>\u001b[39m\n      obj\u001b[38;2;248;248;242m.\u001b[39mname \u001b[38;2;248;248;242m!=\u001b[39m \u001b[38;2;166;226;46m''\u001b[39m \u001b[38;2;248;248;242m?\u001b[39m name \u001b[38;2;248;248;242m!=\u001b[39m \u001b[38;2;166;226;46m'prototype'\u001b[39m \u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;174;129;255mtrue\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n    \u001b[38;2;102;217;239mconst\u001b[39m \u001b[38;2;230;219;116mskipImplClassFilter\u001b[39m \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;248;248;242m(\u001b[39mobj\u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;166;226;46mFunction\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m=>\u001b[39m \u001b[38;2;248;248;242m(\u001b[39mname\u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;166;226;46mstring\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m=>\u001b[39m\n      obj\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mhasOwnProperty\u001b[39m\u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;249;38;114mRUE_IMPL_CLASS\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m?\u001b[39m \u001b[38;2;174;129;255mfalse\u001b[39m \u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;174;129;255mtrue\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n    \u001b[38;2;102;217;239mconst\u001b[39m \u001b[38;2;230;219;116mremoveBuiltinMethodsFilter\u001b[39m \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;248;248;242m(\u001b[39mname\u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;166;226;46mstring\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m=>\u001b[39m \u001b[38;2;248;248;242m!\u001b[39m\u001b[38;2;249;38;114mBUILTIN_STATIC_METHODS\u001b[39m\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mincludes\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mname\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n\n    \u001b[38;2;102;217;239mconst\u001b[39m \u001b[38;2;230;219;116mgetOwnMethods\u001b[39m \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;248;248;242m(\u001b[39mobj\u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;166;226;46mFunction\u001b[39m \u001b[38;2;248;248;242m|\u001b[39m RueModule\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m=>\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n      \u001b[38;2;102;217;239mreturn\u001b[39m Object\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mentries\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mObject\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mgetOwnPropertyDescriptors\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mobj\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\n        \u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mfilter\u001b[39m\u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;248;248;242m[\u001b[39mname\u001b[38;2;248;248;242m,\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m value \u001b[38;2;248;248;242m}\u001b[39m\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m=>\u001b[39m \u001b[38;2;102;217;239mtypeof\u001b[39m value \u001b[38;2;248;248;242m===\u001b[39m \u001b[38;2;166;226;46m'function'\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\n        \u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mmap\u001b[39m\u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;248;248;242m[\u001b[39mname\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m=>\u001b[39m name\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n    \u001b[38;2;248;248;242m}\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n\n    \u001b[38;2;102;217;239mconst\u001b[39m \u001b[38;2;230;219;116mtransformerFn\u001b[39m \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;248;248;242m{\u001b[39m\n      isInstance\u001b[38;2;248;248;242m,\u001b[39m\n      isPrototype\u001b[38;2;248;248;242m,\u001b[39m\n    \u001b[38;2;248;248;242m}\u001b[39m\u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n      isInstance\u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;166;226;46mboolean\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n      isPrototype\u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;166;226;46mboolean\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n    \u001b[38;2;248;248;242m}\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m=>\u001b[39m \u001b[38;2;248;248;242m(\u001b[39mobj\u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;166;226;46mFunction\u001b[39m \u001b[38;2;248;248;242m|\u001b[39m RueModule\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m=>\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n      \u001b[38;2;102;217;239mlet\u001b[39m klassOrModuleName\u001b[38;2;248;248;242m;\u001b[39m\n      \u001b[38;2;102;217;239mlet\u001b[39m methods\u001b[38;2;248;248;242m;\u001b[39m\n\n      \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39mobj\u001b[38;2;248;248;242m[\u001b[39m\u001b[38;2;249;38;114mRUE_MODULE\u001b[39m\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n        klassOrModuleName \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;166;226;46m`\u001b[39m\u001b[38;2;248;248;242m${\u001b[39mobj\u001b[38;2;248;248;242m[\u001b[39m\u001b[38;2;166;226;46m'name'\u001b[39m\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m}\u001b[39m\u001b[38;2;166;226;46m (RueModule)\u001b[39m\u001b[38;2;166;226;46m`\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n\n        \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39misInstance \u001b[38;2;248;248;242m||\u001b[39m isPrototype\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n          methods \u001b[38;2;248;248;242m=\u001b[39m Object\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mkeys\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mObject\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mgetOwnPropertyDescriptors\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mobj\u001b[38;2;248;248;242m[\u001b[39m\u001b[38;2;166;226;46m'prototype'\u001b[39m\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m||\u001b[39m \u001b[38;2;248;248;242m[\u001b[39m\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n        \u001b[38;2;248;248;242m}\u001b[39m \u001b[38;2;102;217;239melse\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n          methods \u001b[38;2;248;248;242m=\u001b[39m Object\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mkeys\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mObject\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mgetOwnPropertyDescriptors\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mobj\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m||\u001b[39m \u001b[38;2;248;248;242m[\u001b[39m\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n        \u001b[38;2;248;248;242m}\u001b[39m\n      \u001b[38;2;248;248;242m}\u001b[39m \u001b[38;2;102;217;239melse\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n        klassOrModuleName \u001b[38;2;248;248;242m=\u001b[39m obj\u001b[38;2;248;248;242m[\u001b[39m\u001b[38;2;166;226;46m'name'\u001b[39m\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n\n        \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39misInstance\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n          methods \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;230;219;116mgetOwnMethods\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mobj\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;102;217;239mconstructor\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n        \u001b[38;2;248;248;242m}\u001b[39m \u001b[38;2;102;217;239melse\u001b[39m \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39misPrototype\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n          \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39mobj \u001b[38;2;248;248;242m&&\u001b[39m \u001b[38;2;248;248;242m(\u001b[39mobj\u001b[38;2;248;248;242m[\u001b[39m\u001b[38;2;166;226;46m'name'\u001b[39m\u001b[38;2;248;248;242m]\u001b[39m \u001b[38;2;248;248;242m===\u001b[39m \u001b[38;2;166;226;46m''\u001b[39m \u001b[38;2;248;248;242m||\u001b[39m \u001b[38;2;248;248;242m!\u001b[39mobj\u001b[38;2;248;248;242m[\u001b[39m\u001b[38;2;166;226;46m'name'\u001b[39m\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n            methods \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;230;219;116mgetOwnMethods\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mobj\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;102;217;239mconstructor\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n          \u001b[38;2;248;248;242m}\u001b[39m \u001b[38;2;102;217;239melse\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n            methods \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;230;219;116mgetOwnMethods\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mobj\u001b[38;2;248;248;242m[\u001b[39m\u001b[38;2;166;226;46m'prototype'\u001b[39m\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n          \u001b[38;2;248;248;242m}\u001b[39m\n        \u001b[38;2;248;248;242m}\u001b[39m \u001b[38;2;102;217;239melse\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n          methods \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;230;219;116mgetOwnMethods\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mobj\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n        \u001b[38;2;248;248;242m}\u001b[39m\n      \u001b[38;2;248;248;242m}\u001b[39m\n\n      \u001b[38;2;130;146;162m// https://stackoverflow.com/questions/56659303/what-is-base-object-in-javascript\u001b[39m\n      \u001b[38;2;130;146;162m// cosmetic namespace\u001b[39m\n      \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39mklassOrModuleName \u001b[38;2;248;248;242m===\u001b[39m \u001b[38;2;166;226;46m''\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n        klassOrModuleName \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;166;226;46m'Function'\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n      \u001b[38;2;248;248;242m}\u001b[39m \u001b[38;2;102;217;239melse\u001b[39m \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39mklassOrModuleName \u001b[38;2;248;248;242m===\u001b[39m \u001b[38;2;102;217;239mundefined\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n        klassOrModuleName \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;166;226;46m'Object'\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n      \u001b[38;2;248;248;242m}\u001b[39m\n\n      \u001b[38;2;130;146;162m// prettier-ignore\u001b[39m\n      \u001b[38;2;102;217;239mreturn\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n        \u001b[38;2;248;248;242m[\u001b[39mklassOrModuleName\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m:\u001b[39m methods\n          \u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mfilter\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mpublicOnlyFilter\u001b[38;2;248;248;242m)\u001b[39m\n          \u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mfilter\u001b[39m\u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;230;219;116mremovePrototypeFilter\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mobj \u001b[38;2;102;217;239mas\u001b[39m \u001b[38;2;166;226;46mFunction\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\n          \u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mfilter\u001b[39m\u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;230;219;116mskipImplClassFilter\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mobj \u001b[38;2;102;217;239mas\u001b[39m \u001b[38;2;166;226;46mFunction\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\n          \u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mfilter\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mremoveBuiltinMethodsFilter\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m,\u001b[39m\n      \u001b[38;2;248;248;242m}\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n    \u001b[38;2;248;248;242m}\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n\n    \u001b[38;2;130;146;162m// main\u001b[39m\n\n    \u001b[38;2;102;217;239mconst\u001b[39m target \u001b[38;2;248;248;242m=\u001b[39m obj \u001b[38;2;248;248;242m?\u001b[39m obj \u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n    \u001b[38;2;102;217;239mlet\u001b[39m isInstance\u001b[38;2;248;248;242m,\u001b[39m isPrototype\u001b[38;2;248;248;242m;\u001b[39m\n    \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;102;217;239mtypeof\u001b[39m target \u001b[38;2;248;248;242m===\u001b[39m \u001b[38;2;166;226;46m'object'\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n      isPrototype \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;230;219;116misSuperset\u001b[39m\u001b[38;2;248;248;242m(\u001b[39m\n        \u001b[38;2;249;38;114mBUILTIN_PROTOTYPE_METHODS\u001b[39m\u001b[38;2;248;248;242m,\u001b[39m\n        Object\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mkeys\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mObject\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mgetOwnPropertyDescriptors\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mobj\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;102;217;239mconstructor\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\n      \u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n      isInstance \u001b[38;2;248;248;242m=\u001b[39m isPrototype \u001b[38;2;248;248;242m?\u001b[39m \u001b[38;2;174;129;255mfalse\u001b[39m \u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;174;129;255mtrue\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n    \u001b[38;2;248;248;242m}\u001b[39m \u001b[38;2;102;217;239melse\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n      isInstance \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;174;129;255mfalse\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n      isPrototype \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;174;129;255mfalse\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n    \u001b[38;2;248;248;242m}\u001b[39m\n\n    \u001b[38;2;102;217;239mreturn\u001b[39m \u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mgetAncestors\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mtarget\u001b[38;2;248;248;242m,\u001b[39m \u001b[38;2;230;219;116mtransformerFn\u001b[39m\u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;248;248;242m{\u001b[39m isInstance\u001b[38;2;248;248;242m,\u001b[39m isPrototype \u001b[38;2;248;248;242m}\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mreduce\u001b[39m\u001b[38;2;248;248;242m(\u001b[39m\n      \u001b[38;2;248;248;242m(\u001b[39macc\u001b[38;2;248;248;242m,\u001b[39m item\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m=>\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n        Object\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116massign\u001b[39m\u001b[38;2;248;248;242m(\u001b[39macc\u001b[38;2;248;248;242m,\u001b[39m item\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n        \u001b[38;2;102;217;239mreturn\u001b[39m acc\u001b[38;2;248;248;242m;\u001b[39m\n      \u001b[38;2;248;248;242m}\u001b[39m\u001b[38;2;248;248;242m,\u001b[39m\n      \u001b[38;2;248;248;242m{\u001b[39m\u001b[38;2;248;248;242m}\u001b[39m \u001b[38;2;102;217;239mas\u001b[39m \u001b[38;2;166;226;46many\u001b[39m\n    \u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n  \u001b[38;2;248;248;242m}\u001b[39m\n\n  \u001b[38;2;102;217;239mstatic\u001b[39m \u001b[38;2;230;219;116mgetProperties\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mobj\u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;166;226;46mFunction\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;166;226;46mstring\u001b[39m\u001b[38;2;248;248;242m[\u001b[39m\u001b[38;2;248;248;242m]\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n    \u001b[38;2;102;217;239mlet\u001b[39m target \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;102;217;239mnew\u001b[39m \u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;102;217;239mthis\u001b[39m \u001b[38;2;102;217;239mas\u001b[39m \u001b[38;2;166;226;46many\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n    \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39mobj\u001b[38;2;248;248;242m)\u001b[39m target \u001b[38;2;248;248;242m=\u001b[39m obj\u001b[38;2;248;248;242m;\u001b[39m\n\n    \u001b[38;2;102;217;239mconst\u001b[39m descriptors \u001b[38;2;248;248;242m=\u001b[39m Object\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mgetOwnPropertyDescriptors\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mtarget\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n    \u001b[38;2;102;217;239mreturn\u001b[39m Object\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mkeys\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mdescriptors\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n  \u001b[38;2;248;248;242m}\u001b[39m\n\n  \u001b[38;2;102;217;239mstatic\u001b[39m \u001b[38;2;230;219;116mgetAncestors\u001b[39m\u001b[38;2;230;219;116m\u001b[38;2;248;248;242m<\u001b[39m\u001b[38;2;230;219;116m\u001b[38;2;249;38;114mT\u001b[39m\u001b[38;2;230;219;116m \u001b[38;2;248;248;242m=\u001b[39m\u001b[38;2;230;219;116m \u001b[38;2;166;226;46mstring\u001b[39m\u001b[38;2;230;219;116m\u001b[38;2;248;248;242m>\u001b[39m\u001b[38;2;230;219;116m\u001b[39m\u001b[38;2;248;248;242m(\u001b[39m\n    obj\u001b[38;2;248;248;242m?\u001b[39m\u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;166;226;46mFunction\u001b[39m \u001b[38;2;248;248;242m|\u001b[39m object\u001b[38;2;248;248;242m,\u001b[39m\n    transformer\u001b[38;2;248;248;242m?\u001b[39m\u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;248;248;242m(\u001b[39mobj\u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;166;226;46mFunction\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m=>\u001b[39m \u001b[38;2;249;38;114mT\u001b[39m\n  \u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;249;38;114mT\u001b[39m\u001b[38;2;248;248;242m[\u001b[39m\u001b[38;2;248;248;242m]\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n    \u001b[38;2;102;217;239mconst\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m \u001b[38;2;249;38;114mRUE_MODULE\u001b[39m \u001b[38;2;248;248;242m}\u001b[39m \u001b[38;2;248;248;242m=\u001b[39m RueModule\u001b[38;2;248;248;242m;\u001b[39m\n\n    \u001b[38;2;130;146;162m// @important\u001b[39m\n    \u001b[38;2;130;146;162m// RueModule's ancestor chain and JavaScript prototype chain are not related.\u001b[39m\n    \u001b[38;2;130;146;162m// Therefore you have to reassemble the chain yourself\u001b[39m\n\n    \u001b[38;2;102;217;239mconst\u001b[39m _getAncestors \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;248;248;242m<\u001b[39m\u001b[38;2;249;38;114mT\u001b[39m\u001b[38;2;248;248;242m>\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mf\u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;166;226;46mFunction\u001b[39m\u001b[38;2;248;248;242m,\u001b[39m ancestors\u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;249;38;114mT\u001b[39m\u001b[38;2;248;248;242m[\u001b[39m\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m=>\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n      \u001b[38;2;102;217;239mconst\u001b[39m proto \u001b[38;2;248;248;242m=\u001b[39m Object\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mgetPrototypeOf\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mf\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n\n      \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39mproto \u001b[38;2;248;248;242m==\u001b[39m \u001b[38;2;102;217;239mnull\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;102;217;239mreturn\u001b[39m ancestors\u001b[38;2;248;248;242m;\u001b[39m\n      \u001b[38;2;102;217;239mconst\u001b[39m fRueModuleAncestors \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;102;217;239mnew\u001b[39m \u001b[38;2;230;219;116mRueModuleAncestorController\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mf\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n\n      \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39mfRueModuleAncestors\u001b[38;2;248;248;242m.\u001b[39mdata\u001b[38;2;248;248;242m.\u001b[39mlength \u001b[38;2;248;248;242m>\u001b[39m \u001b[38;2;174;129;255m0\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n        fRueModuleAncestors\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mancestors\u001b[39m\u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mforEach\u001b[39m\u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mancestor\u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;249;38;114mT\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m=>\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n          \u001b[38;2;102;217;239mconst\u001b[39m proto \u001b[38;2;248;248;242m=\u001b[39m Object\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mgetPrototypeOf\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mancestor\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n          \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39mproto\u001b[38;2;248;248;242m.\u001b[39m__rue_impl_class__\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n            \u001b[38;2;102;217;239mconst\u001b[39m controller \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;102;217;239mnew\u001b[39m \u001b[38;2;230;219;116mRueModuleAncestorController\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mproto\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n            \u001b[38;2;102;217;239mconst\u001b[39m willAddAncestors \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;248;248;242m[\u001b[39mancestor\u001b[38;2;248;248;242m,\u001b[39m \u001b[38;2;248;248;242m...\u001b[39mcontroller\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mancestors\u001b[39m\u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n            willAddAncestors\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mforEach\u001b[39m\u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mchildAncestor\u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;249;38;114mT\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m=>\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n              \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;248;248;242m!\u001b[39mancestors\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mincludes\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mchildAncestor\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m ancestors\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mpush\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mchildAncestor\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n            \u001b[38;2;248;248;242m}\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n          \u001b[38;2;248;248;242m}\u001b[39m \u001b[38;2;102;217;239melse\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n            \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;248;248;242m!\u001b[39mancestors\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mincludes\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mancestor\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m ancestors\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mpush\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mancestor\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n          \u001b[38;2;248;248;242m}\u001b[39m\n        \u001b[38;2;248;248;242m}\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n        \u001b[38;2;102;217;239mreturn\u001b[39m \u001b[38;2;230;219;116m_getAncestors\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mproto\u001b[38;2;248;248;242m,\u001b[39m ancestors\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n      \u001b[38;2;248;248;242m}\u001b[39m \u001b[38;2;102;217;239melse\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n        \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39mf \u001b[38;2;248;248;242m&&\u001b[39m f\u001b[38;2;248;248;242m[\u001b[39m\u001b[38;2;166;226;46m'name'\u001b[39m\u001b[38;2;248;248;242m]\u001b[39m \u001b[38;2;248;248;242m&&\u001b[39m \u001b[38;2;248;248;242m!\u001b[39mancestors\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mincludes\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mf \u001b[38;2;102;217;239mas\u001b[39m \u001b[38;2;166;226;46many\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m ancestors\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mpush\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mf \u001b[38;2;102;217;239mas\u001b[39m \u001b[38;2;166;226;46many\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n        \u001b[38;2;102;217;239mreturn\u001b[39m \u001b[38;2;230;219;116m_getAncestors\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mproto\u001b[38;2;248;248;242m,\u001b[39m ancestors\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n      \u001b[38;2;248;248;242m}\u001b[39m\n    \u001b[38;2;248;248;242m}\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n\n    \u001b[38;2;102;217;239mconst\u001b[39m defaultTransformer \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;248;248;242m(\u001b[39mobj\u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;166;226;46mFunction\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;166;226;46mstring\u001b[39m \u001b[38;2;248;248;242m=>\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n      \u001b[38;2;102;217;239mlet\u001b[39m ancestorName\u001b[38;2;248;248;242m;\u001b[39m\n\n      \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39mobj\u001b[38;2;248;248;242m[\u001b[39m\u001b[38;2;249;38;114mRUE_MODULE\u001b[39m\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n        ancestorName \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;166;226;46m`\u001b[39m\u001b[38;2;248;248;242m${\u001b[39mobj\u001b[38;2;248;248;242m[\u001b[39m\u001b[38;2;166;226;46m'name'\u001b[39m\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m}\u001b[39m\u001b[38;2;166;226;46m (RueModule)\u001b[39m\u001b[38;2;166;226;46m`\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n      \u001b[38;2;248;248;242m}\u001b[39m \u001b[38;2;102;217;239melse\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n        ancestorName \u001b[38;2;248;248;242m=\u001b[39m obj\u001b[38;2;248;248;242m[\u001b[39m\u001b[38;2;166;226;46m'name'\u001b[39m\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n      \u001b[38;2;248;248;242m}\u001b[39m\n\n      \u001b[38;2;130;146;162m// https://stackoverflow.com/questions/56659303/what-is-base-object-in-javascript\u001b[39m\n      \u001b[38;2;130;146;162m// cosmetic namespace\u001b[39m\n      \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39mancestorName \u001b[38;2;248;248;242m===\u001b[39m \u001b[38;2;166;226;46m''\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n        ancestorName \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;166;226;46m'Function'\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n      \u001b[38;2;248;248;242m}\u001b[39m \u001b[38;2;102;217;239melse\u001b[39m \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39mancestorName \u001b[38;2;248;248;242m===\u001b[39m \u001b[38;2;102;217;239mundefined\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n        ancestorName \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;166;226;46m'Object'\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n      \u001b[38;2;248;248;242m}\u001b[39m\n\n      \u001b[38;2;102;217;239mreturn\u001b[39m ancestorName\u001b[38;2;248;248;242m;\u001b[39m\n    \u001b[38;2;248;248;242m}\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n\n    \u001b[38;2;102;217;239mlet\u001b[39m target\u001b[38;2;248;248;242m;\u001b[39m\n    \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39mobj\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n      target \u001b[38;2;248;248;242m=\u001b[39m obj\u001b[38;2;248;248;242m;\u001b[39m\n      \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;102;217;239mtypeof\u001b[39m obj \u001b[38;2;248;248;242m===\u001b[39m \u001b[38;2;166;226;46m'object'\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m target \u001b[38;2;248;248;242m=\u001b[39m obj\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;102;217;239mconstructor\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n    \u001b[38;2;248;248;242m}\u001b[39m \u001b[38;2;102;217;239melse\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n      target \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n      \u001b[38;2;130;146;162m// @ts-ignore\u001b[39m\n      \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;102;217;239mtypeof\u001b[39m \u001b[38;2;102;217;239mthis\u001b[39m \u001b[38;2;248;248;242m===\u001b[39m \u001b[38;2;166;226;46m'object'\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m target \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;102;217;239mconstructor\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n    \u001b[38;2;248;248;242m}\u001b[39m\n\n    \u001b[38;2;102;217;239mlet\u001b[39m ancestors \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;248;248;242m[\u001b[39m\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n    \u001b[38;2;102;217;239mlet\u001b[39m useTransformer\u001b[38;2;248;248;242m;\u001b[39m\n    \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39mtransformer\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n      useTransformer \u001b[38;2;248;248;242m=\u001b[39m transformer\u001b[38;2;248;248;242m;\u001b[39m\n      ancestors \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;230;219;116m_getAncestors\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mtarget\u001b[38;2;248;248;242m,\u001b[39m ancestors\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n    \u001b[38;2;248;248;242m}\u001b[39m \u001b[38;2;102;217;239melse\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n      useTransformer \u001b[38;2;248;248;242m=\u001b[39m defaultTransformer\u001b[38;2;248;248;242m;\u001b[39m\n      ancestors \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;230;219;116m_getAncestors\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mtarget\u001b[38;2;248;248;242m,\u001b[39m ancestors\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n    \u001b[38;2;248;248;242m}\u001b[39m\n\n    \u001b[38;2;130;146;162m// Add base class to ancestors\u001b[39m\n    \u001b[38;2;102;217;239mconst\u001b[39m funcAncs \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;166;226;46mFunction\u001b[39m\u001b[38;2;248;248;242m.\u001b[39mprototype\u001b[38;2;248;248;242m;\u001b[39m\n    \u001b[38;2;102;217;239mconst\u001b[39m objAncs \u001b[38;2;248;248;242m=\u001b[39m Object\u001b[38;2;248;248;242m.\u001b[39mprototype\u001b[38;2;248;248;242m;\u001b[39m\n    \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;248;248;242m!\u001b[39mancestors\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mincludes\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mfuncAncs\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m ancestors\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mpush\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mfuncAncs\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n    \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;248;248;242m!\u001b[39mancestors\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mincludes\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mobjAncs\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m ancestors\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mpush\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mobjAncs\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n\n    \u001b[38;2;102;217;239mreturn\u001b[39m ancestors\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mmap\u001b[39m\u001b[38;2;248;248;242m(\u001b[39museTransformer\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n  \u001b[38;2;248;248;242m}\u001b[39m\n\n  \u001b[38;2;102;217;239mstatic\u001b[39m \u001b[38;2;230;219;116mgetOwnerFrom\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mobj\u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;166;226;46mFunction\u001b[39m \u001b[38;2;248;248;242m|\u001b[39m object\u001b[38;2;248;248;242m,\u001b[39m propName\u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;166;226;46mstring\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;166;226;46mFunction\u001b[39m \u001b[38;2;248;248;242m|\u001b[39m RueModule \u001b[38;2;248;248;242m{\u001b[39m\n    \u001b[38;2;102;217;239mconst\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m \u001b[38;2;249;38;114mRUE_IMPL_CLASS\u001b[39m \u001b[38;2;248;248;242m}\u001b[39m \u001b[38;2;248;248;242m=\u001b[39m RueModule\u001b[38;2;248;248;242m;\u001b[39m\n    \u001b[38;2;102;217;239mconst\u001b[39m isStatic \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;102;217;239mtypeof\u001b[39m obj \u001b[38;2;248;248;242m===\u001b[39m \u001b[38;2;166;226;46m'function'\u001b[39m \u001b[38;2;248;248;242m?\u001b[39m \u001b[38;2;174;129;255mtrue\u001b[39m \u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;174;129;255mfalse\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n\n    \u001b[38;2;102;217;239mlet\u001b[39m foundOwner\u001b[38;2;248;248;242m;\u001b[39m\n    \u001b[38;2;102;217;239mconst\u001b[39m ancestors \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mgetAncestors\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mobj\u001b[38;2;248;248;242m,\u001b[39m \u001b[38;2;248;248;242m(\u001b[39mobj\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m=>\u001b[39m obj\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n    \u001b[38;2;102;217;239mfor\u001b[39m \u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;102;217;239mlet\u001b[39m i \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;174;129;255m0\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m i \u001b[38;2;248;248;242m<\u001b[39m ancestors\u001b[38;2;248;248;242m.\u001b[39mlength\u001b[38;2;248;248;242m;\u001b[39m i\u001b[38;2;248;248;242m++\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n      \u001b[38;2;102;217;239mconst\u001b[39m ancestor \u001b[38;2;248;248;242m=\u001b[39m ancestors\u001b[38;2;248;248;242m[\u001b[39mi\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n      \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;248;248;242m!\u001b[39mancestor\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mhasOwnProperty\u001b[39m\u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;249;38;114mRUE_IMPL_CLASS\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n        \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39misStatic \u001b[38;2;248;248;242m&&\u001b[39m ancestor\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mhasOwnProperty\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mpropName\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n          foundOwner \u001b[38;2;248;248;242m=\u001b[39m ancestor\u001b[38;2;248;248;242m;\u001b[39m\n          \u001b[38;2;102;217;239mbreak\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n        \u001b[38;2;248;248;242m}\u001b[39m \u001b[38;2;102;217;239melse\u001b[39m \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;248;248;242m!\u001b[39misStatic \u001b[38;2;248;248;242m&&\u001b[39m ancestor\u001b[38;2;248;248;242m.\u001b[39mprototype\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mhasOwnProperty\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mpropName\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n          foundOwner \u001b[38;2;248;248;242m=\u001b[39m ancestor\u001b[38;2;248;248;242m;\u001b[39m\n          \u001b[38;2;102;217;239mbreak\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n        \u001b[38;2;248;248;242m}\u001b[39m\n      \u001b[38;2;248;248;242m}\u001b[39m\n    \u001b[38;2;248;248;242m}\u001b[39m\n\n    \u001b[38;2;102;217;239mreturn\u001b[39m foundOwner\u001b[38;2;248;248;242m;\u001b[39m\n  \u001b[38;2;248;248;242m}\u001b[39m\n\u001b[38;2;248;248;242m}\u001b[39m",
        "line": [
          11,
          220
        ]
      }
    ],
    "static": {
      "getMethodsWithNamespace": {
        "text": "static getMethodsWithNamespace(obj?: Function | object | RueModule): t.MethodWithNamespace[] {\n    const { RUE_MODULE, RUE_IMPL_CLASS } = RueModule;\n\n    const publicOnlyFilter = (name: string) => !name.startsWith('_');\n    const removePrototypeFilter = (obj: Function) => (name: string) =>\n      obj.name != '' ? name != 'prototype' : true;\n    const skipImplClassFilter = (obj: Function) => (name: string) =>\n      obj.hasOwnProperty(RUE_IMPL_CLASS) ? false : true;\n    const removeBuiltinMethodsFilter = (name: string) => !BUILTIN_STATIC_METHODS.includes(name);\n\n    const getOwnMethods = (obj: Function | RueModule) => {\n      return Object.entries(Object.getOwnPropertyDescriptors(obj))\n        .filter(([name, { value }]) => typeof value === 'function')\n        .map(([name]) => name);\n    };\n\n    const transformerFn = ({\n      isInstance,\n      isPrototype,\n    }: {\n      isInstance: boolean;\n      isPrototype: boolean;\n    }) => (obj: Function | RueModule) => {\n      let klassOrModuleName;\n      let methods;\n\n      if (obj[RUE_MODULE]) {\n        klassOrModuleName = `${obj['name']} (RueModule)`;\n\n        if (isInstance || isPrototype) {\n          methods = Object.keys(Object.getOwnPropertyDescriptors(obj['prototype']) || []);\n        } else {\n          methods = Object.keys(Object.getOwnPropertyDescriptors(obj) || []);\n        }\n      } else {\n        klassOrModuleName = obj['name'];\n\n        if (isInstance) {\n          methods = getOwnMethods(obj.constructor);\n        } else if (isPrototype) {\n          if (obj && (obj['name'] === '' || !obj['name'])) {\n            methods = getOwnMethods(obj.constructor);\n          } else {\n            methods = getOwnMethods(obj['prototype']);\n          }\n        } else {\n          methods = getOwnMethods(obj);\n        }\n      }\n\n      // https://stackoverflow.com/questions/56659303/what-is-base-object-in-javascript\n      // cosmetic namespace\n      if (klassOrModuleName === '') {\n        klassOrModuleName = 'Function';\n      } else if (klassOrModuleName === undefined) {\n        klassOrModuleName = 'Object';\n      }\n\n      // prettier-ignore\n      return {\n        [klassOrModuleName]: methods\n          .filter(publicOnlyFilter)\n          .filter(removePrototypeFilter(obj as Function))\n          .filter(skipImplClassFilter(obj as Function))\n          .filter(removeBuiltinMethodsFilter),\n      };\n    };\n\n    // main\n\n    const target = obj ? obj : this;\n    let isInstance, isPrototype;\n    if (typeof target === 'object') {\n      isPrototype = isSuperset(\n        BUILTIN_PROTOTYPE_METHODS,\n        Object.keys(Object.getOwnPropertyDescriptors(obj.constructor))\n      );\n      isInstance = isPrototype ? false : true;\n    } else {\n      isInstance = false;\n      isPrototype = false;\n    }\n\n    return this.getAncestors(target, transformerFn({ isInstance, isPrototype })).reduce(\n      (acc, item) => {\n        Object.assign(acc, item);\n        return acc;\n      },\n      {} as any\n    );\n  }",
        "highlightText": "\u001b[38;2;102;217;239mstatic\u001b[39m \u001b[38;2;230;219;116mgetMethodsWithNamespace\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mobj\u001b[38;2;248;248;242m?\u001b[39m\u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;166;226;46mFunction\u001b[39m \u001b[38;2;248;248;242m|\u001b[39m object \u001b[38;2;248;248;242m|\u001b[39m RueModule\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m:\u001b[39m t\u001b[38;2;248;248;242m.\u001b[39mMethodWithNamespace\u001b[38;2;248;248;242m[\u001b[39m\u001b[38;2;248;248;242m]\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n    \u001b[38;2;102;217;239mconst\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m \u001b[38;2;249;38;114mRUE_MODULE\u001b[39m\u001b[38;2;248;248;242m,\u001b[39m \u001b[38;2;249;38;114mRUE_IMPL_CLASS\u001b[39m \u001b[38;2;248;248;242m}\u001b[39m \u001b[38;2;248;248;242m=\u001b[39m RueModule\u001b[38;2;248;248;242m;\u001b[39m\n\n    \u001b[38;2;102;217;239mconst\u001b[39m \u001b[38;2;230;219;116mpublicOnlyFilter\u001b[39m \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;248;248;242m(\u001b[39mname\u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;166;226;46mstring\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m=>\u001b[39m \u001b[38;2;248;248;242m!\u001b[39mname\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mstartsWith\u001b[39m\u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;166;226;46m'_'\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n    \u001b[38;2;102;217;239mconst\u001b[39m \u001b[38;2;230;219;116mremovePrototypeFilter\u001b[39m \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;248;248;242m(\u001b[39mobj\u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;166;226;46mFunction\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m=>\u001b[39m \u001b[38;2;248;248;242m(\u001b[39mname\u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;166;226;46mstring\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m=>\u001b[39m\n      obj\u001b[38;2;248;248;242m.\u001b[39mname \u001b[38;2;248;248;242m!=\u001b[39m \u001b[38;2;166;226;46m''\u001b[39m \u001b[38;2;248;248;242m?\u001b[39m name \u001b[38;2;248;248;242m!=\u001b[39m \u001b[38;2;166;226;46m'prototype'\u001b[39m \u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;174;129;255mtrue\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n    \u001b[38;2;102;217;239mconst\u001b[39m \u001b[38;2;230;219;116mskipImplClassFilter\u001b[39m \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;248;248;242m(\u001b[39mobj\u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;166;226;46mFunction\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m=>\u001b[39m \u001b[38;2;248;248;242m(\u001b[39mname\u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;166;226;46mstring\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m=>\u001b[39m\n      obj\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mhasOwnProperty\u001b[39m\u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;249;38;114mRUE_IMPL_CLASS\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m?\u001b[39m \u001b[38;2;174;129;255mfalse\u001b[39m \u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;174;129;255mtrue\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n    \u001b[38;2;102;217;239mconst\u001b[39m \u001b[38;2;230;219;116mremoveBuiltinMethodsFilter\u001b[39m \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;248;248;242m(\u001b[39mname\u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;166;226;46mstring\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m=>\u001b[39m \u001b[38;2;248;248;242m!\u001b[39m\u001b[38;2;249;38;114mBUILTIN_STATIC_METHODS\u001b[39m\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mincludes\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mname\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n\n    \u001b[38;2;102;217;239mconst\u001b[39m \u001b[38;2;230;219;116mgetOwnMethods\u001b[39m \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;248;248;242m(\u001b[39mobj\u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;166;226;46mFunction\u001b[39m \u001b[38;2;248;248;242m|\u001b[39m RueModule\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m=>\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n      \u001b[38;2;102;217;239mreturn\u001b[39m Object\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mentries\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mObject\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mgetOwnPropertyDescriptors\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mobj\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\n        \u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mfilter\u001b[39m\u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;248;248;242m[\u001b[39mname\u001b[38;2;248;248;242m,\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m value \u001b[38;2;248;248;242m}\u001b[39m\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m=>\u001b[39m \u001b[38;2;102;217;239mtypeof\u001b[39m value \u001b[38;2;248;248;242m===\u001b[39m \u001b[38;2;166;226;46m'function'\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\n        \u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mmap\u001b[39m\u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;248;248;242m[\u001b[39mname\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m=>\u001b[39m name\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n    \u001b[38;2;248;248;242m}\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n\n    \u001b[38;2;102;217;239mconst\u001b[39m \u001b[38;2;230;219;116mtransformerFn\u001b[39m \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;248;248;242m{\u001b[39m\n      isInstance\u001b[38;2;248;248;242m,\u001b[39m\n      isPrototype\u001b[38;2;248;248;242m,\u001b[39m\n    \u001b[38;2;248;248;242m}\u001b[39m\u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n      isInstance\u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;166;226;46mboolean\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n      isPrototype\u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;166;226;46mboolean\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n    \u001b[38;2;248;248;242m}\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m=>\u001b[39m \u001b[38;2;248;248;242m(\u001b[39mobj\u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;166;226;46mFunction\u001b[39m \u001b[38;2;248;248;242m|\u001b[39m RueModule\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m=>\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n      \u001b[38;2;102;217;239mlet\u001b[39m klassOrModuleName\u001b[38;2;248;248;242m;\u001b[39m\n      \u001b[38;2;102;217;239mlet\u001b[39m methods\u001b[38;2;248;248;242m;\u001b[39m\n\n      \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39mobj\u001b[38;2;248;248;242m[\u001b[39m\u001b[38;2;249;38;114mRUE_MODULE\u001b[39m\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n        klassOrModuleName \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;166;226;46m`\u001b[39m\u001b[38;2;248;248;242m${\u001b[39mobj\u001b[38;2;248;248;242m[\u001b[39m\u001b[38;2;166;226;46m'name'\u001b[39m\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m}\u001b[39m\u001b[38;2;166;226;46m (RueModule)\u001b[39m\u001b[38;2;166;226;46m`\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n\n        \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39misInstance \u001b[38;2;248;248;242m||\u001b[39m isPrototype\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n          methods \u001b[38;2;248;248;242m=\u001b[39m Object\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mkeys\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mObject\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mgetOwnPropertyDescriptors\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mobj\u001b[38;2;248;248;242m[\u001b[39m\u001b[38;2;166;226;46m'prototype'\u001b[39m\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m||\u001b[39m \u001b[38;2;248;248;242m[\u001b[39m\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n        \u001b[38;2;248;248;242m}\u001b[39m \u001b[38;2;102;217;239melse\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n          methods \u001b[38;2;248;248;242m=\u001b[39m Object\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mkeys\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mObject\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mgetOwnPropertyDescriptors\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mobj\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m||\u001b[39m \u001b[38;2;248;248;242m[\u001b[39m\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n        \u001b[38;2;248;248;242m}\u001b[39m\n      \u001b[38;2;248;248;242m}\u001b[39m \u001b[38;2;102;217;239melse\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n        klassOrModuleName \u001b[38;2;248;248;242m=\u001b[39m obj\u001b[38;2;248;248;242m[\u001b[39m\u001b[38;2;166;226;46m'name'\u001b[39m\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n\n        \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39misInstance\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n          methods \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;230;219;116mgetOwnMethods\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mobj\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;102;217;239mconstructor\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n        \u001b[38;2;248;248;242m}\u001b[39m \u001b[38;2;102;217;239melse\u001b[39m \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39misPrototype\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n          \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39mobj \u001b[38;2;248;248;242m&&\u001b[39m \u001b[38;2;248;248;242m(\u001b[39mobj\u001b[38;2;248;248;242m[\u001b[39m\u001b[38;2;166;226;46m'name'\u001b[39m\u001b[38;2;248;248;242m]\u001b[39m \u001b[38;2;248;248;242m===\u001b[39m \u001b[38;2;166;226;46m''\u001b[39m \u001b[38;2;248;248;242m||\u001b[39m \u001b[38;2;248;248;242m!\u001b[39mobj\u001b[38;2;248;248;242m[\u001b[39m\u001b[38;2;166;226;46m'name'\u001b[39m\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n            methods \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;230;219;116mgetOwnMethods\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mobj\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;102;217;239mconstructor\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n          \u001b[38;2;248;248;242m}\u001b[39m \u001b[38;2;102;217;239melse\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n            methods \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;230;219;116mgetOwnMethods\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mobj\u001b[38;2;248;248;242m[\u001b[39m\u001b[38;2;166;226;46m'prototype'\u001b[39m\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n          \u001b[38;2;248;248;242m}\u001b[39m\n        \u001b[38;2;248;248;242m}\u001b[39m \u001b[38;2;102;217;239melse\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n          methods \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;230;219;116mgetOwnMethods\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mobj\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n        \u001b[38;2;248;248;242m}\u001b[39m\n      \u001b[38;2;248;248;242m}\u001b[39m\n\n      \u001b[38;2;130;146;162m// https://stackoverflow.com/questions/56659303/what-is-base-object-in-javascript\u001b[39m\n      \u001b[38;2;130;146;162m// cosmetic namespace\u001b[39m\n      \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39mklassOrModuleName \u001b[38;2;248;248;242m===\u001b[39m \u001b[38;2;166;226;46m''\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n        klassOrModuleName \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;166;226;46m'Function'\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n      \u001b[38;2;248;248;242m}\u001b[39m \u001b[38;2;102;217;239melse\u001b[39m \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39mklassOrModuleName \u001b[38;2;248;248;242m===\u001b[39m \u001b[38;2;102;217;239mundefined\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n        klassOrModuleName \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;166;226;46m'Object'\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n      \u001b[38;2;248;248;242m}\u001b[39m\n\n      \u001b[38;2;130;146;162m// prettier-ignore\u001b[39m\n      \u001b[38;2;102;217;239mreturn\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n        \u001b[38;2;248;248;242m[\u001b[39mklassOrModuleName\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m:\u001b[39m methods\n          \u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mfilter\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mpublicOnlyFilter\u001b[38;2;248;248;242m)\u001b[39m\n          \u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mfilter\u001b[39m\u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;230;219;116mremovePrototypeFilter\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mobj \u001b[38;2;102;217;239mas\u001b[39m \u001b[38;2;166;226;46mFunction\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\n          \u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mfilter\u001b[39m\u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;230;219;116mskipImplClassFilter\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mobj \u001b[38;2;102;217;239mas\u001b[39m \u001b[38;2;166;226;46mFunction\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\n          \u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mfilter\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mremoveBuiltinMethodsFilter\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m,\u001b[39m\n      \u001b[38;2;248;248;242m}\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n    \u001b[38;2;248;248;242m}\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n\n    \u001b[38;2;130;146;162m// main\u001b[39m\n\n    \u001b[38;2;102;217;239mconst\u001b[39m target \u001b[38;2;248;248;242m=\u001b[39m obj \u001b[38;2;248;248;242m?\u001b[39m obj \u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n    \u001b[38;2;102;217;239mlet\u001b[39m isInstance\u001b[38;2;248;248;242m,\u001b[39m isPrototype\u001b[38;2;248;248;242m;\u001b[39m\n    \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;102;217;239mtypeof\u001b[39m target \u001b[38;2;248;248;242m===\u001b[39m \u001b[38;2;166;226;46m'object'\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n      isPrototype \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;230;219;116misSuperset\u001b[39m\u001b[38;2;248;248;242m(\u001b[39m\n        \u001b[38;2;249;38;114mBUILTIN_PROTOTYPE_METHODS\u001b[39m\u001b[38;2;248;248;242m,\u001b[39m\n        Object\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mkeys\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mObject\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mgetOwnPropertyDescriptors\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mobj\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;102;217;239mconstructor\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\n      \u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n      isInstance \u001b[38;2;248;248;242m=\u001b[39m isPrototype \u001b[38;2;248;248;242m?\u001b[39m \u001b[38;2;174;129;255mfalse\u001b[39m \u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;174;129;255mtrue\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n    \u001b[38;2;248;248;242m}\u001b[39m \u001b[38;2;102;217;239melse\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n      isInstance \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;174;129;255mfalse\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n      isPrototype \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;174;129;255mfalse\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n    \u001b[38;2;248;248;242m}\u001b[39m\n\n    \u001b[38;2;102;217;239mreturn\u001b[39m \u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mgetAncestors\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mtarget\u001b[38;2;248;248;242m,\u001b[39m \u001b[38;2;230;219;116mtransformerFn\u001b[39m\u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;248;248;242m{\u001b[39m isInstance\u001b[38;2;248;248;242m,\u001b[39m isPrototype \u001b[38;2;248;248;242m}\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mreduce\u001b[39m\u001b[38;2;248;248;242m(\u001b[39m\n      \u001b[38;2;248;248;242m(\u001b[39macc\u001b[38;2;248;248;242m,\u001b[39m item\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m=>\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n        Object\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116massign\u001b[39m\u001b[38;2;248;248;242m(\u001b[39macc\u001b[38;2;248;248;242m,\u001b[39m item\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n        \u001b[38;2;102;217;239mreturn\u001b[39m acc\u001b[38;2;248;248;242m;\u001b[39m\n      \u001b[38;2;248;248;242m}\u001b[39m\u001b[38;2;248;248;242m,\u001b[39m\n      \u001b[38;2;248;248;242m{\u001b[39m\u001b[38;2;248;248;242m}\u001b[39m \u001b[38;2;102;217;239mas\u001b[39m \u001b[38;2;166;226;46many\u001b[39m\n    \u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n  \u001b[38;2;248;248;242m}\u001b[39m",
        "isAsync": false,
        "visibility": "public",
        "line": [
          14,
          104
        ]
      },
      "getProperties": {
        "text": "static getProperties(obj: Function): string[] {\n    let target = new (this as any)();\n    if (obj) target = obj;\n\n    const descriptors = Object.getOwnPropertyDescriptors(target);\n    return Object.keys(descriptors);\n  }",
        "highlightText": "\u001b[38;2;102;217;239mstatic\u001b[39m \u001b[38;2;230;219;116mgetProperties\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mobj\u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;166;226;46mFunction\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;166;226;46mstring\u001b[39m\u001b[38;2;248;248;242m[\u001b[39m\u001b[38;2;248;248;242m]\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n    \u001b[38;2;102;217;239mlet\u001b[39m target \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;102;217;239mnew\u001b[39m \u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;102;217;239mthis\u001b[39m \u001b[38;2;102;217;239mas\u001b[39m \u001b[38;2;166;226;46many\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n    \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39mobj\u001b[38;2;248;248;242m)\u001b[39m target \u001b[38;2;248;248;242m=\u001b[39m obj\u001b[38;2;248;248;242m;\u001b[39m\n\n    \u001b[38;2;102;217;239mconst\u001b[39m descriptors \u001b[38;2;248;248;242m=\u001b[39m Object\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mgetOwnPropertyDescriptors\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mtarget\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n    \u001b[38;2;102;217;239mreturn\u001b[39m Object\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mkeys\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mdescriptors\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n  \u001b[38;2;248;248;242m}\u001b[39m",
        "isAsync": false,
        "visibility": "public",
        "line": [
          106,
          112
        ]
      },
      "getAncestors": {
        "text": "static getAncestors<T = string>(\n    obj?: Function | object,\n    transformer?: (obj: Function) => T\n  ): T[] {\n    const { RUE_MODULE } = RueModule;\n\n    // @important\n    // RueModule's ancestor chain and JavaScript prototype chain are not related.\n    // Therefore you have to reassemble the chain yourself\n\n    const _getAncestors = <T>(f: Function, ancestors: T[]) => {\n      const proto = Object.getPrototypeOf(f);\n\n      if (proto == null) return ancestors;\n      const fRueModuleAncestors = new RueModuleAncestorController(f);\n\n      if (fRueModuleAncestors.data.length > 0) {\n        fRueModuleAncestors.ancestors().forEach((ancestor: T) => {\n          const proto = Object.getPrototypeOf(ancestor);\n          if (proto.__rue_impl_class__) {\n            const controller = new RueModuleAncestorController(proto);\n            const willAddAncestors = [ancestor, ...controller.ancestors()];\n            willAddAncestors.forEach((childAncestor: T) => {\n              if (!ancestors.includes(childAncestor)) ancestors.push(childAncestor);\n            });\n          } else {\n            if (!ancestors.includes(ancestor)) ancestors.push(ancestor);\n          }\n        });\n        return _getAncestors(proto, ancestors);\n      } else {\n        if (f && f['name'] && !ancestors.includes(f as any)) ancestors.push(f as any);\n        return _getAncestors(proto, ancestors);\n      }\n    };\n\n    const defaultTransformer = (obj: Function): string => {\n      let ancestorName;\n\n      if (obj[RUE_MODULE]) {\n        ancestorName = `${obj['name']} (RueModule)`;\n      } else {\n        ancestorName = obj['name'];\n      }\n\n      // https://stackoverflow.com/questions/56659303/what-is-base-object-in-javascript\n      // cosmetic namespace\n      if (ancestorName === '') {\n        ancestorName = 'Function';\n      } else if (ancestorName === undefined) {\n        ancestorName = 'Object';\n      }\n\n      return ancestorName;\n    };\n\n    let target;\n    if (obj) {\n      target = obj;\n      if (typeof obj === 'object') target = obj.constructor;\n    } else {\n      target = this;\n      // @ts-ignore\n      if (typeof this === 'object') target = this.constructor;\n    }\n\n    let ancestors = [];\n    let useTransformer;\n    if (transformer) {\n      useTransformer = transformer;\n      ancestors = _getAncestors(target, ancestors);\n    } else {\n      useTransformer = defaultTransformer;\n      ancestors = _getAncestors(target, ancestors);\n    }\n\n    // Add base class to ancestors\n    const funcAncs = Function.prototype;\n    const objAncs = Object.prototype;\n    if (!ancestors.includes(funcAncs)) ancestors.push(funcAncs);\n    if (!ancestors.includes(objAncs)) ancestors.push(objAncs);\n\n    return ancestors.map(useTransformer);\n  }",
        "highlightText": "\u001b[38;2;102;217;239mstatic\u001b[39m \u001b[38;2;230;219;116mgetAncestors\u001b[39m\u001b[38;2;230;219;116m\u001b[38;2;248;248;242m<\u001b[39m\u001b[38;2;230;219;116m\u001b[38;2;249;38;114mT\u001b[39m\u001b[38;2;230;219;116m \u001b[38;2;248;248;242m=\u001b[39m\u001b[38;2;230;219;116m \u001b[38;2;166;226;46mstring\u001b[39m\u001b[38;2;230;219;116m\u001b[38;2;248;248;242m>\u001b[39m\u001b[38;2;230;219;116m\u001b[39m\u001b[38;2;248;248;242m(\u001b[39m\n    obj\u001b[38;2;248;248;242m?\u001b[39m\u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;166;226;46mFunction\u001b[39m \u001b[38;2;248;248;242m|\u001b[39m object\u001b[38;2;248;248;242m,\u001b[39m\n    transformer\u001b[38;2;248;248;242m?\u001b[39m\u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;248;248;242m(\u001b[39mobj\u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;166;226;46mFunction\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m=>\u001b[39m \u001b[38;2;249;38;114mT\u001b[39m\n  \u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;249;38;114mT\u001b[39m\u001b[38;2;248;248;242m[\u001b[39m\u001b[38;2;248;248;242m]\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n    \u001b[38;2;102;217;239mconst\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m \u001b[38;2;249;38;114mRUE_MODULE\u001b[39m \u001b[38;2;248;248;242m}\u001b[39m \u001b[38;2;248;248;242m=\u001b[39m RueModule\u001b[38;2;248;248;242m;\u001b[39m\n\n    \u001b[38;2;130;146;162m// @important\u001b[39m\n    \u001b[38;2;130;146;162m// RueModule's ancestor chain and JavaScript prototype chain are not related.\u001b[39m\n    \u001b[38;2;130;146;162m// Therefore you have to reassemble the chain yourself\u001b[39m\n\n    \u001b[38;2;102;217;239mconst\u001b[39m _getAncestors \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;248;248;242m<\u001b[39m\u001b[38;2;249;38;114mT\u001b[39m\u001b[38;2;248;248;242m>\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mf\u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;166;226;46mFunction\u001b[39m\u001b[38;2;248;248;242m,\u001b[39m ancestors\u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;249;38;114mT\u001b[39m\u001b[38;2;248;248;242m[\u001b[39m\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m=>\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n      \u001b[38;2;102;217;239mconst\u001b[39m proto \u001b[38;2;248;248;242m=\u001b[39m Object\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mgetPrototypeOf\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mf\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n\n      \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39mproto \u001b[38;2;248;248;242m==\u001b[39m \u001b[38;2;102;217;239mnull\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;102;217;239mreturn\u001b[39m ancestors\u001b[38;2;248;248;242m;\u001b[39m\n      \u001b[38;2;102;217;239mconst\u001b[39m fRueModuleAncestors \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;102;217;239mnew\u001b[39m \u001b[38;2;230;219;116mRueModuleAncestorController\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mf\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n\n      \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39mfRueModuleAncestors\u001b[38;2;248;248;242m.\u001b[39mdata\u001b[38;2;248;248;242m.\u001b[39mlength \u001b[38;2;248;248;242m>\u001b[39m \u001b[38;2;174;129;255m0\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n        fRueModuleAncestors\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mancestors\u001b[39m\u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mforEach\u001b[39m\u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mancestor\u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;249;38;114mT\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m=>\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n          \u001b[38;2;102;217;239mconst\u001b[39m proto \u001b[38;2;248;248;242m=\u001b[39m Object\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mgetPrototypeOf\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mancestor\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n          \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39mproto\u001b[38;2;248;248;242m.\u001b[39m__rue_impl_class__\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n            \u001b[38;2;102;217;239mconst\u001b[39m controller \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;102;217;239mnew\u001b[39m \u001b[38;2;230;219;116mRueModuleAncestorController\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mproto\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n            \u001b[38;2;102;217;239mconst\u001b[39m willAddAncestors \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;248;248;242m[\u001b[39mancestor\u001b[38;2;248;248;242m,\u001b[39m \u001b[38;2;248;248;242m...\u001b[39mcontroller\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mancestors\u001b[39m\u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n            willAddAncestors\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mforEach\u001b[39m\u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mchildAncestor\u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;249;38;114mT\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m=>\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n              \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;248;248;242m!\u001b[39mancestors\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mincludes\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mchildAncestor\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m ancestors\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mpush\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mchildAncestor\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n            \u001b[38;2;248;248;242m}\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n          \u001b[38;2;248;248;242m}\u001b[39m \u001b[38;2;102;217;239melse\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n            \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;248;248;242m!\u001b[39mancestors\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mincludes\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mancestor\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m ancestors\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mpush\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mancestor\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n          \u001b[38;2;248;248;242m}\u001b[39m\n        \u001b[38;2;248;248;242m}\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n        \u001b[38;2;102;217;239mreturn\u001b[39m \u001b[38;2;230;219;116m_getAncestors\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mproto\u001b[38;2;248;248;242m,\u001b[39m ancestors\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n      \u001b[38;2;248;248;242m}\u001b[39m \u001b[38;2;102;217;239melse\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n        \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39mf \u001b[38;2;248;248;242m&&\u001b[39m f\u001b[38;2;248;248;242m[\u001b[39m\u001b[38;2;166;226;46m'name'\u001b[39m\u001b[38;2;248;248;242m]\u001b[39m \u001b[38;2;248;248;242m&&\u001b[39m \u001b[38;2;248;248;242m!\u001b[39mancestors\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mincludes\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mf \u001b[38;2;102;217;239mas\u001b[39m \u001b[38;2;166;226;46many\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m ancestors\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mpush\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mf \u001b[38;2;102;217;239mas\u001b[39m \u001b[38;2;166;226;46many\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n        \u001b[38;2;102;217;239mreturn\u001b[39m \u001b[38;2;230;219;116m_getAncestors\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mproto\u001b[38;2;248;248;242m,\u001b[39m ancestors\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n      \u001b[38;2;248;248;242m}\u001b[39m\n    \u001b[38;2;248;248;242m}\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n\n    \u001b[38;2;102;217;239mconst\u001b[39m defaultTransformer \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;248;248;242m(\u001b[39mobj\u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;166;226;46mFunction\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;166;226;46mstring\u001b[39m \u001b[38;2;248;248;242m=>\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n      \u001b[38;2;102;217;239mlet\u001b[39m ancestorName\u001b[38;2;248;248;242m;\u001b[39m\n\n      \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39mobj\u001b[38;2;248;248;242m[\u001b[39m\u001b[38;2;249;38;114mRUE_MODULE\u001b[39m\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n        ancestorName \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;166;226;46m`\u001b[39m\u001b[38;2;248;248;242m${\u001b[39mobj\u001b[38;2;248;248;242m[\u001b[39m\u001b[38;2;166;226;46m'name'\u001b[39m\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m}\u001b[39m\u001b[38;2;166;226;46m (RueModule)\u001b[39m\u001b[38;2;166;226;46m`\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n      \u001b[38;2;248;248;242m}\u001b[39m \u001b[38;2;102;217;239melse\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n        ancestorName \u001b[38;2;248;248;242m=\u001b[39m obj\u001b[38;2;248;248;242m[\u001b[39m\u001b[38;2;166;226;46m'name'\u001b[39m\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n      \u001b[38;2;248;248;242m}\u001b[39m\n\n      \u001b[38;2;130;146;162m// https://stackoverflow.com/questions/56659303/what-is-base-object-in-javascript\u001b[39m\n      \u001b[38;2;130;146;162m// cosmetic namespace\u001b[39m\n      \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39mancestorName \u001b[38;2;248;248;242m===\u001b[39m \u001b[38;2;166;226;46m''\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n        ancestorName \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;166;226;46m'Function'\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n      \u001b[38;2;248;248;242m}\u001b[39m \u001b[38;2;102;217;239melse\u001b[39m \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39mancestorName \u001b[38;2;248;248;242m===\u001b[39m \u001b[38;2;102;217;239mundefined\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n        ancestorName \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;166;226;46m'Object'\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n      \u001b[38;2;248;248;242m}\u001b[39m\n\n      \u001b[38;2;102;217;239mreturn\u001b[39m ancestorName\u001b[38;2;248;248;242m;\u001b[39m\n    \u001b[38;2;248;248;242m}\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n\n    \u001b[38;2;102;217;239mlet\u001b[39m target\u001b[38;2;248;248;242m;\u001b[39m\n    \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39mobj\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n      target \u001b[38;2;248;248;242m=\u001b[39m obj\u001b[38;2;248;248;242m;\u001b[39m\n      \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;102;217;239mtypeof\u001b[39m obj \u001b[38;2;248;248;242m===\u001b[39m \u001b[38;2;166;226;46m'object'\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m target \u001b[38;2;248;248;242m=\u001b[39m obj\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;102;217;239mconstructor\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n    \u001b[38;2;248;248;242m}\u001b[39m \u001b[38;2;102;217;239melse\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n      target \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n      \u001b[38;2;130;146;162m// @ts-ignore\u001b[39m\n      \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;102;217;239mtypeof\u001b[39m \u001b[38;2;102;217;239mthis\u001b[39m \u001b[38;2;248;248;242m===\u001b[39m \u001b[38;2;166;226;46m'object'\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m target \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;102;217;239mconstructor\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n    \u001b[38;2;248;248;242m}\u001b[39m\n\n    \u001b[38;2;102;217;239mlet\u001b[39m ancestors \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;248;248;242m[\u001b[39m\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n    \u001b[38;2;102;217;239mlet\u001b[39m useTransformer\u001b[38;2;248;248;242m;\u001b[39m\n    \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39mtransformer\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n      useTransformer \u001b[38;2;248;248;242m=\u001b[39m transformer\u001b[38;2;248;248;242m;\u001b[39m\n      ancestors \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;230;219;116m_getAncestors\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mtarget\u001b[38;2;248;248;242m,\u001b[39m ancestors\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n    \u001b[38;2;248;248;242m}\u001b[39m \u001b[38;2;102;217;239melse\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n      useTransformer \u001b[38;2;248;248;242m=\u001b[39m defaultTransformer\u001b[38;2;248;248;242m;\u001b[39m\n      ancestors \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;230;219;116m_getAncestors\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mtarget\u001b[38;2;248;248;242m,\u001b[39m ancestors\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n    \u001b[38;2;248;248;242m}\u001b[39m\n\n    \u001b[38;2;130;146;162m// Add base class to ancestors\u001b[39m\n    \u001b[38;2;102;217;239mconst\u001b[39m funcAncs \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;166;226;46mFunction\u001b[39m\u001b[38;2;248;248;242m.\u001b[39mprototype\u001b[38;2;248;248;242m;\u001b[39m\n    \u001b[38;2;102;217;239mconst\u001b[39m objAncs \u001b[38;2;248;248;242m=\u001b[39m Object\u001b[38;2;248;248;242m.\u001b[39mprototype\u001b[38;2;248;248;242m;\u001b[39m\n    \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;248;248;242m!\u001b[39mancestors\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mincludes\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mfuncAncs\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m ancestors\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mpush\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mfuncAncs\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n    \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;248;248;242m!\u001b[39mancestors\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mincludes\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mobjAncs\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m ancestors\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mpush\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mobjAncs\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n\n    \u001b[38;2;102;217;239mreturn\u001b[39m ancestors\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mmap\u001b[39m\u001b[38;2;248;248;242m(\u001b[39museTransformer\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n  \u001b[38;2;248;248;242m}\u001b[39m",
        "isAsync": false,
        "visibility": "public",
        "line": [
          114,
          197
        ]
      },
      "getOwnerFrom": {
        "text": "static getOwnerFrom(obj: Function | object, propName: string): Function | RueModule {\n    const { RUE_IMPL_CLASS } = RueModule;\n    const isStatic = typeof obj === 'function' ? true : false;\n\n    let foundOwner;\n    const ancestors = this.getAncestors(obj, (obj) => obj);\n    for (let i = 0; i < ancestors.length; i++) {\n      const ancestor = ancestors[i];\n      if (!ancestor.hasOwnProperty(RUE_IMPL_CLASS)) {\n        if (isStatic && ancestor.hasOwnProperty(propName)) {\n          foundOwner = ancestor;\n          break;\n        } else if (!isStatic && ancestor.prototype.hasOwnProperty(propName)) {\n          foundOwner = ancestor;\n          break;\n        }\n      }\n    }\n\n    return foundOwner;\n  }",
        "highlightText": "\u001b[38;2;102;217;239mstatic\u001b[39m \u001b[38;2;230;219;116mgetOwnerFrom\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mobj\u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;166;226;46mFunction\u001b[39m \u001b[38;2;248;248;242m|\u001b[39m object\u001b[38;2;248;248;242m,\u001b[39m propName\u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;166;226;46mstring\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;166;226;46mFunction\u001b[39m \u001b[38;2;248;248;242m|\u001b[39m RueModule \u001b[38;2;248;248;242m{\u001b[39m\n    \u001b[38;2;102;217;239mconst\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m \u001b[38;2;249;38;114mRUE_IMPL_CLASS\u001b[39m \u001b[38;2;248;248;242m}\u001b[39m \u001b[38;2;248;248;242m=\u001b[39m RueModule\u001b[38;2;248;248;242m;\u001b[39m\n    \u001b[38;2;102;217;239mconst\u001b[39m isStatic \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;102;217;239mtypeof\u001b[39m obj \u001b[38;2;248;248;242m===\u001b[39m \u001b[38;2;166;226;46m'function'\u001b[39m \u001b[38;2;248;248;242m?\u001b[39m \u001b[38;2;174;129;255mtrue\u001b[39m \u001b[38;2;248;248;242m:\u001b[39m \u001b[38;2;174;129;255mfalse\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n\n    \u001b[38;2;102;217;239mlet\u001b[39m foundOwner\u001b[38;2;248;248;242m;\u001b[39m\n    \u001b[38;2;102;217;239mconst\u001b[39m ancestors \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;102;217;239mthis\u001b[39m\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mgetAncestors\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mobj\u001b[38;2;248;248;242m,\u001b[39m \u001b[38;2;248;248;242m(\u001b[39mobj\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m=>\u001b[39m obj\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n    \u001b[38;2;102;217;239mfor\u001b[39m \u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;102;217;239mlet\u001b[39m i \u001b[38;2;248;248;242m=\u001b[39m \u001b[38;2;174;129;255m0\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m i \u001b[38;2;248;248;242m<\u001b[39m ancestors\u001b[38;2;248;248;242m.\u001b[39mlength\u001b[38;2;248;248;242m;\u001b[39m i\u001b[38;2;248;248;242m++\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n      \u001b[38;2;102;217;239mconst\u001b[39m ancestor \u001b[38;2;248;248;242m=\u001b[39m ancestors\u001b[38;2;248;248;242m[\u001b[39mi\u001b[38;2;248;248;242m]\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n      \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;248;248;242m!\u001b[39mancestor\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mhasOwnProperty\u001b[39m\u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;249;38;114mRUE_IMPL_CLASS\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n        \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39misStatic \u001b[38;2;248;248;242m&&\u001b[39m ancestor\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mhasOwnProperty\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mpropName\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n          foundOwner \u001b[38;2;248;248;242m=\u001b[39m ancestor\u001b[38;2;248;248;242m;\u001b[39m\n          \u001b[38;2;102;217;239mbreak\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n        \u001b[38;2;248;248;242m}\u001b[39m \u001b[38;2;102;217;239melse\u001b[39m \u001b[38;2;102;217;239mif\u001b[39m \u001b[38;2;248;248;242m(\u001b[39m\u001b[38;2;248;248;242m!\u001b[39misStatic \u001b[38;2;248;248;242m&&\u001b[39m ancestor\u001b[38;2;248;248;242m.\u001b[39mprototype\u001b[38;2;248;248;242m.\u001b[39m\u001b[38;2;230;219;116mhasOwnProperty\u001b[39m\u001b[38;2;248;248;242m(\u001b[39mpropName\u001b[38;2;248;248;242m)\u001b[39m\u001b[38;2;248;248;242m)\u001b[39m \u001b[38;2;248;248;242m{\u001b[39m\n          foundOwner \u001b[38;2;248;248;242m=\u001b[39m ancestor\u001b[38;2;248;248;242m;\u001b[39m\n          \u001b[38;2;102;217;239mbreak\u001b[39m\u001b[38;2;248;248;242m;\u001b[39m\n        \u001b[38;2;248;248;242m}\u001b[39m\n      \u001b[38;2;248;248;242m}\u001b[39m\n    \u001b[38;2;248;248;242m}\u001b[39m\n\n    \u001b[38;2;102;217;239mreturn\u001b[39m foundOwner\u001b[38;2;248;248;242m;\u001b[39m\n  \u001b[38;2;248;248;242m}\u001b[39m",
        "isAsync": false,
        "visibility": "public",
        "line": [
          199,
          219
        ]
      }
    }
  }
}